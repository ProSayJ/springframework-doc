<!DOCTYPE html>
<!-- saved from url=(0107)https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#languages -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Asciidoctor 1.5.5">
    <title>Language Support</title>
    <link rel="stylesheet" href="./08_Languages_files/spring.css">
    <style>.listingblock .switch {
        border-style: none;
        display: inline-block;
        position: relative;
        bottom: -3px
    }

    .listingblock .switch--item {
        padding: 10px;
        background-color: #e6e1dc;
        color: #282c34;
        display: inline-block;
        cursor: pointer;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px
    }

    .listingblock .switch--item:not(:first-child) {
        border-style: none
    }

    .listingblock .switch--item.selected {
        background-color: #282c34;
        color: #e6e1dc
    }

    .listingblock pre.highlightjs {
        padding: 0
    }</style>
    <link rel="stylesheet" href="./08_Languages_files/font-awesome.min.css">
    <style>.hidden {
        display: none
    }

    .switch {
        border-width: 1px 1px 0 1px;
        border-style: solid;
        border-color: #7a2518;
        display: inline-block
    }

    .switch--item {
        padding: 10px;
        background-color: #fff;
        color: #7a2518;
        display: inline-block;
        cursor: pointer
    }

    .switch--item:not(:first-child) {
        border-width: 0 0 0 1px;
        border-style: solid;
        border-color: #7a2518
    }

    .switch--item.selected {
        background-color: #7a2519;
        color: #fff
    }</style>
    <script async="" src="./08_Languages_files/analytics.js.下载"></script>
    <script src="./08_Languages_files/zepto.min.js.下载"></script>
    <script type="text/javascript">function addBlockSwitches() {
        $('.primary').each(function () {
            primary = $(this);
            createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
            primary.children('.title').remove();
        });
        $('.secondary').each(function (idx, node) {
            secondary = $(node);
            primary = findPrimary(secondary);
            switchItem = createSwitchItem(secondary, primary.children('.switch'));
            switchItem.content.addClass('hidden');
            findPrimary(secondary).append(switchItem.content);
            secondary.remove();
        });
    }

    function createBlockSwitch(primary) {
        blockSwitch = $('<div class="switch"></div>');
        primary.prepend(blockSwitch);
        return blockSwitch;
    }

    function findPrimary(secondary) {
        candidate = secondary.prev();
        while (!candidate.is('.primary')) {
            candidate = candidate.prev();
        }
        return candidate;
    }

    function createSwitchItem(block, blockSwitch) {
        blockName = block.children('.title').text();
        content = block.children('.content').first().append(block.next('.colist'));
        item = $('<div class="switch--item">' + blockName + '</div>');
        item.on('click', '', content, function (e) {
            $(this).addClass('selected');
            $(this).siblings().removeClass('selected');
            e.data.siblings('.content').addClass('hidden');
            e.data.removeClass('hidden');
        });
        blockSwitch.append(item);
        return {'item': item, 'content': content};
    }

    $(addBlockSwitches);</script>
</head>
<body id="languages" class="book toc2 toc-left">
<div>
    <div id="header-spring">
        <h1>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0"
                 viewBox="0 0 245.8 45.3" style="enable-background:new 0 0 245.8 45.3;" xml:space="preserve">
<g id="logos">
<g>
<path class="st0" d="M39.4,3.7c-0.6,1.5-1.4,2.8-2.3,4c-3.9-4-9.3-6.4-15.2-6.4c-11.7,0-21.3,9.5-21.3,21.3
c0,6.2,2.6,11.7,6.8,15.6l0.8,0.7c3.7,3.1,8.5,5,13.7,5c11.2,0,20.4-8.7,21.2-19.8C43.7,18.7,42.1,11.8,39.4,3.7z M10.5,38.3
c-0.6,0.8-1.8,0.9-2.6,0.3C7.1,37.9,7,36.8,7.6,36c0.6-0.8,1.8-0.9,2.6-0.3C11,36.4,11.1,37.5,10.5,38.3z M39.3,31.9
c-5.2,7-16.5,4.6-23.6,5c0,0-1.3,0.1-2.6,0.3c0,0,0.5-0.2,1.1-0.4c5-1.7,7.4-2.1,10.5-3.7c5.8-3,11.5-9.4,12.7-16.1
c-2.2,6.4-8.9,12-14.9,14.2c-4.2,1.5-11.7,3-11.7,3c0,0-0.3-0.2-0.3-0.2c-5.1-2.5-5.3-13.6,4-17.1c4.1-1.6,8-0.7,12.4-1.8
C31.6,14.1,37,10.6,39.2,6C41.7,13.3,44.7,24.8,39.3,31.9z"></path>
    <g>
<path class="st0" d="M55.2,30.9c-0.5-0.3-0.9-0.9-0.9-1.6c0-1.1,0.8-1.9,1.9-1.9c0.4,0,0.7,0.1,1,0.3c2,1.3,4.1,2,5.9,2
c2,0,3.2-0.9,3.2-2.2v-0.1c0-1.6-2.2-2.2-4.6-2.9c-3-0.9-6.5-2.1-6.5-6.1v-0.1c0-3.9,3.2-6.3,7.4-6.3c2.2,0,4.5,0.6,6.5,1.7
c0.7,0.4,1.1,1,1.1,1.8c0,1.1-0.9,1.9-2,1.9c-0.4,0-0.6-0.1-0.9-0.2c-1.7-0.9-3.4-1.4-4.9-1.4c-1.8,0-2.9,0.9-2.9,2v0.1
c0,1.5,2.2,2.2,4.7,2.9c3,0.9,6.4,2.3,6.4,6v0.1c0,4.3-3.4,6.5-7.7,6.5C60.4,33.3,57.6,32.5,55.2,30.9z"></path>
        <path class="st0" d="M72.5,14.3c0-1.3,1-2.4,2.3-2.4c1.3,0,2.4,1.1,2.4,2.4v1.4c1.5-2.2,3.7-3.9,7-3.9c4.8,0,9.6,3.8,9.6,10.7
v0.1c0,6.8-4.7,10.7-9.6,10.7c-3.4,0-5.6-1.7-7-3.6V37c0,1.3-1.1,2.4-2.4,2.4c-1.3,0-2.3-1-2.3-2.4V14.3z M89.1,22.7L89.1,22.7
c0-4.1-2.7-6.7-5.9-6.7c-3.2,0-6,2.7-6,6.6v0.1c0,4,2.8,6.6,6,6.6C86.4,29.3,89.1,26.7,89.1,22.7z"></path>
        <path class="st0" d="M95.7,14.3c0-1.3,1-2.4,2.3-2.4c1.3,0,2.4,1.1,2.4,2.4v1.1c0.2-1.8,3.1-3.5,5.2-3.5c1.5,0,2.3,1,2.3,2.3
c0,1.3-0.8,2.1-1.9,2.3c-3.4,0.6-5.7,3.5-5.7,7.6V31c0,1.3-1.1,2.3-2.4,2.3c-1.3,0-2.3-1-2.3-2.3V14.3z"></path>
        <path class="st0" d="M109.7,14.3c0-1.3,1-2.4,2.3-2.4c1.3,0,2.4,1.1,2.4,2.4V31c0,1.3-1.1,2.3-2.4,2.3c-1.3,0-2.3-1-2.3-2.3V14.3
z"></path>
        <path class="st0" d="M116.9,14.3c0-1.3,1-2.4,2.3-2.4c1.3,0,2.4,1.1,2.4,2.4v1c1.3-1.9,3.2-3.4,6.5-3.4c4.7,0,7.4,3.1,7.4,7.9V31
c0,1.3-1,2.3-2.3,2.3c-1.3,0-2.4-1-2.4-2.3v-9.7c0-3.2-1.6-5-4.4-5c-2.7,0-4.7,1.9-4.7,5.1V31c0,1.3-1.1,2.3-2.4,2.3
c-1.3,0-2.3-1-2.3-2.3V14.3z"></path>
        <path class="st0" d="M156.2,11.9c-1.3,0-2.4,1.1-2.4,2.4v1.4c-1.5-2.2-3.7-3.9-7-3.9c-4.9,0-9.6,3.8-9.6,10.7v0.1
c0,6.8,4.7,10.7,9.6,10.7c3.4,0,5.6-1.7,7-3.6c-0.2,3.7-2.5,5.7-6.5,5.7c-2.4,0-4.5-0.6-6.3-1.6c-0.2-0.1-0.5-0.2-0.9-0.2
c-1.1,0-2,0.9-2,2c0,0.9,0.5,1.6,1.3,1.9c2.5,1.2,5.1,1.8,8,1.8c3.7,0,6.6-0.9,8.5-2.8c1.7-1.7,2.7-4.3,2.7-7.8V14.3
C158.5,13,157.5,11.9,156.2,11.9z M147.9,29.2c-3.2,0-5.9-2.5-5.9-6.6v-0.1c0-4,2.7-6.6,5.9-6.6c3.2,0,6,2.7,6,6.6v0.1
C153.9,26.6,151.1,29.2,147.9,29.2z"></path>
        <path class="st0" d="M114.5,6.3c0,1.3-1.1,2.4-2.4,2.4c-1.3,0-2.4-1.1-2.4-2.4c0-1.3,1.1-2.4,2.4-2.4
C113.4,3.9,114.5,4.9,114.5,6.3z"></path>
</g>
</g>
    <g class="st1">
<g>
<g>
<g>
<path class="st2" d="M200.1,21.1H198V19h2.1V21.1z M200.1,32.9H198V22.6h2.1V32.9z"></path>
</g>
    <g>
<g>
<path class="st2" d="M212.5,22.6l-3,8.9c-0.5,1.5-1.4,1.6-2.2,1.6c-1.1,0-1.8-0.5-2.2-1.6l-2.5-7.4h-1v-1.5h2.6l2.6,8.3
c0.1,0.4,0.2,0.6,0.5,0.6c0.3,0,0.4-0.2,0.5-0.6l2.6-8.3H212.5z"></path>
    <path class="st2" d="M217.8,22.6c2.8,0,4.7,1.8,4.7,4.5v1.6c0,2.6-1.9,4.5-4.7,4.5c-2.8,0-4.7-1.8-4.7-4.5v-1.6
C213,24.4,215,22.6,217.8,22.6 M217.8,31.4c1.7,0,2.7-1.3,2.7-2.8v-1.6c0-1.5-1-2.8-2.7-2.8c-1.8,0-2.7,1.3-2.7,2.8v1.6
C215.1,30.2,216,31.4,217.8,31.4"></path>
    <path class="st2" d="M239.6,22.9c-1.1-0.3-2.7-0.5-4-0.5c-2.8,0-4.6,1.8-4.6,4.6v1.1c0,2.9,1.7,4.7,4.6,4.7c0.1,0,0.6,0,0.8,0
v-1.7c-0.1,0-0.7,0-0.8,0c-1.5,0-2.6-1.2-2.6-2.9v-1.1c0-1.8,1-2.9,2.6-2.9c0.7,0,1.7,0.1,2.1,0.1l0.1,0l0,8.6h2.1v-9.6
C240,23.1,240,23,239.6,22.9"></path>
    <rect x="242.1" y="19" class="st2" width="2.1" height="13.9"></rect>
    <path class="st2" d="M190.5,19h-3.8v13.9h2.2V20.9h1.3c0.3,0,0.5,0,0.8,0c1.9,0,2.9,0.8,2.9,2.3c0,0.1,0,0.1,0,0.2
c0,1.4-0.8,2.3-2.9,2.3c-0.2,0-0.4,0-0.6,0c0,0.5,0,1.5,0,1.9c0.2,0,0.4,0,0.6,0c3,0,5.2-1.2,5.2-4.2c0-0.1,0-0.1,0-0.2
C196.2,20.2,193.9,19,190.5,19"></path>
    <path class="st2"
          d="M226.3,20.4v2.2h3.5v1.7h-3.5v6c0,0.9,0.6,1,1.5,1h2v1.7H227c-2,0-2.9-0.8-2.9-2.6v-9.6L226.3,20.4z"></path>
</g>
</g>
</g>
</g>
        <g>
<path class="st2" d="M167.7,32.9v-10h1.1v3.8c0.6-0.8,1.5-1.3,2.4-1.3c1.9,0,3.2,1.5,3.2,3.8c0,2.4-1.3,3.8-3.2,3.8
c-1,0-1.9-0.5-2.4-1.3v1.1H167.7z M171,32.1c1.5,0,2.3-1.2,2.3-2.8c0-1.6-0.9-2.8-2.3-2.8c-0.9,0-1.8,0.5-2.2,1.2v3.3
C169.2,31.6,170.1,32.1,171,32.1z"></path>
            <path class="st2" d="M175.9,34.7c0.2,0.1,0.4,0.1,0.6,0.1c0.5,0,0.8-0.2,1.1-0.8l0.5-1.1l-3-7.3h1.2l2.4,5.9l2.4-5.9h1.2
l-3.6,8.7c-0.4,1-1.2,1.5-2.1,1.5c-0.2,0-0.6,0-0.8-0.1L175.9,34.7z"></path>
</g>
</g>
</g>
</svg>

        </h1>
    </div>
</div>
<div id="header">
    <h1>Language Support</h1>
    <div class="details">
        <span id="revnumber">version 5.2.0.BUILD-SNAPSHOT</span>
    </div>
    <div id="toc" class="toc2">
        <div id="toctitle">Table of Contents</div>
        <div class="back-action"><a
                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/index.html"><span><i
                class="fa fa-chevron-left" aria-hidden="true"></i></span> Back to index</a></div>
        <ul class="mobile-toc">
            <li>
                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin">1.
                    Kotlin</a>
                <ul class="sectlevel2">
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-requirements">1.1.
                            Requirements</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-extensions">1.2.
                            Extensions</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-null-safety">1.3.
                            Null-safety</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-classes-interfaces">1.4.
                            Classes and Interfaces</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-annotations">1.5.
                            Annotations</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-bean-definition-dsl">1.6.
                            Bean Definition DSL</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-web">1.7.
                            Web</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#router-dsl">1.7.1.
                                    Router DSL</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#mockmvc-dsl">1.7.2.
                                    MockMvc DSL</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-script-templates">1.7.3.
                                    Kotlin Script Templates</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#coroutines">1.8.
                            Coroutines</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dependencies">1.8.1.
                                    Dependencies</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#how-reactive-translates-to-coroutines">1.8.2.
                                    How Reactive translates to Coroutines?</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#controllers">1.8.3.
                                    Controllers</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#webflux-fn">1.8.4.
                                    WebFlux.fn</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-spring-projects-in-kotlin">1.9.
                            Spring Projects in Kotlin</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#final-by-default">1.9.1.
                                    Final by Default</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#using-immutable-class-instances-for-persistence">1.9.2.
                                    Using Immutable Class Instances for Persistence</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-dependencies">1.9.3.
                                    Injecting Dependencies</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-configuration-properties">1.9.4.
                                    Injecting Configuration Properties</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#checked-exceptions">1.9.5.
                                    Checked Exceptions</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#annotation-array-attributes">1.9.6.
                                    Annotation Array Attributes</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#testing">1.9.7.
                                    Testing</a>
                                <ul class="sectlevel4">
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#constructor-injection">Constructor
                                            injection</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-per_class-code-lifecycle"><code>PER_CLASS</code>
                                            Lifecycle</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#specification-like-tests">Specification-like
                                            Tests</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-webtestclient-issue"><code>WebTestClient</code>
                                            Type Inference Issue in Kotlin</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-getting-started">1.10.
                            Getting Started</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-start-spring-io-code">1.10.1.
                                    <code>start.spring.io</code></a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#choosing-the-web-flavor">1.10.2.
                                    Choosing the Web Flavor</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-resources">1.11.
                            Resources</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#examples">1.11.1.
                                    Examples</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#issues">1.11.2.
                                    Issues</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#groovy">2.
                    Apache Groovy</a></li>
            <li>
                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language">3.
                    Dynamic Language Support</a>
                <ul class="sectlevel2">
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-a-first-example">3.1.
                            A First Example</a></li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans">3.2.
                            Defining Beans that Are Backed by Dynamic Languages</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts">3.2.1.
                                    Common Concepts</a>
                                <ul class="sectlevel4">
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts-xml-language-element">The
                                            &lt;lang:language/&gt; element</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-refreshable-beans">Refreshable
                                            Beans</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-inline">Inline
                                            Dynamic Language Source Files</a></li>
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-ctor-injection">Understanding
                                            Constructor Injection in the Context of Dynamic-language-backed Beans</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy">3.2.2.
                                    Groovy Beans</a>
                                <ul class="sectlevel4">
                                    <li>
                                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy-customizer">Customizing
                                            Groovy Objects by Using a Callback</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-bsh">3.2.3.
                                    BeanShell Beans</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios">3.3.
                            Scenarios</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-controllers">3.3.1.
                                    Scripted Spring MVC Controllers</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-validators">3.3.2.
                                    Scripted Validators</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes">3.4.
                            Additional Details</a>
                        <ul class="sectlevel3">
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-aop">3.4.1.
                                    AOP — Advising Scripted Beans</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-scopes">3.4.2.
                                    Scoping</a></li>
                            <li>
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#xsd-schemas-lang">3.4.3.
                                    The <code>lang</code> XML schema</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-resources">3.5.
                            Further Resources</a></li>
                </ul>
            </li>
        </ul>
        <div id="tocbot" class="js-toc desktop-toc">
            <ol class="toc-list ">
                <li class="toc-list-item is-active-li"><a
                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin"
                        class="toc-link node-name--H2  is-active-link">1. Kotlin</a>
                    <ol class="toc-list  is-collapsible">
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-requirements"
                                class="toc-link node-name--H3 ">1.1. Requirements</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-extensions"
                                class="toc-link node-name--H3 ">1.2. Extensions</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-null-safety"
                                class="toc-link node-name--H3 ">1.3. Null-safety</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-classes-interfaces"
                                class="toc-link node-name--H3 ">1.4. Classes and Interfaces</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-annotations"
                                class="toc-link node-name--H3 ">1.5. Annotations</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-bean-definition-dsl"
                                class="toc-link node-name--H3 ">1.6. Bean Definition DSL</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-web"
                                class="toc-link node-name--H3 ">1.7. Web</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#router-dsl"
                                        class="toc-link node-name--H4 ">1.7.1. Router DSL</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#mockmvc-dsl"
                                        class="toc-link node-name--H4 ">1.7.2. MockMvc DSL</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-script-templates"
                                        class="toc-link node-name--H4 ">1.7.3. Kotlin Script Templates</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#coroutines"
                                class="toc-link node-name--H3 ">1.8. Coroutines</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dependencies"
                                        class="toc-link node-name--H4 ">1.8.1. Dependencies</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#how-reactive-translates-to-coroutines"
                                        class="toc-link node-name--H4 ">1.8.2. How Reactive translates to
                                    Coroutines?</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#controllers"
                                        class="toc-link node-name--H4 ">1.8.3. Controllers</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#webflux-fn"
                                        class="toc-link node-name--H4 ">1.8.4. WebFlux.fn</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-spring-projects-in-kotlin"
                                class="toc-link node-name--H3 ">1.9. Spring Projects in Kotlin</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#final-by-default"
                                        class="toc-link node-name--H4 ">1.9.1. Final by Default</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#using-immutable-class-instances-for-persistence"
                                        class="toc-link node-name--H4 ">1.9.2. Using Immutable Class Instances for
                                    Persistence</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-dependencies"
                                        class="toc-link node-name--H4 ">1.9.3. Injecting Dependencies</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-configuration-properties"
                                        class="toc-link node-name--H4 ">1.9.4. Injecting Configuration Properties</a>
                                </li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#checked-exceptions"
                                        class="toc-link node-name--H4 ">1.9.5. Checked Exceptions</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#annotation-array-attributes"
                                        class="toc-link node-name--H4 ">1.9.6. Annotation Array Attributes</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#testing"
                                        class="toc-link node-name--H4 ">1.9.7. Testing</a>
                                    <ol class="toc-list  is-collapsible is-collapsed">
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#constructor-injection"
                                                class="toc-link node-name--H5 ">Constructor injection</a></li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-per_class-code-lifecycle"
                                                class="toc-link node-name--H5 ">PER_CLASS Lifecycle</a></li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#specification-like-tests"
                                                class="toc-link node-name--H5 ">Specification-like Tests</a></li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-webtestclient-issue"
                                                class="toc-link node-name--H5 ">WebTestClient Type Inference Issue in
                                            Kotlin</a></li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-getting-started"
                                class="toc-link node-name--H3 ">1.10. Getting Started</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-start-spring-io-code"
                                        class="toc-link node-name--H4 ">1.10.1. start.spring.io</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#choosing-the-web-flavor"
                                        class="toc-link node-name--H4 ">1.10.2. Choosing the Web Flavor</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-resources"
                                class="toc-link node-name--H3 ">1.11. Resources</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#examples"
                                        class="toc-link node-name--H4 ">1.11.1. Examples</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#issues"
                                        class="toc-link node-name--H4 ">1.11.2. Issues</a></li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li class="toc-list-item"><a
                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#groovy"
                        class="toc-link node-name--H2 ">2. Apache Groovy</a></li>
                <li class="toc-list-item"><a
                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language"
                        class="toc-link node-name--H2 ">3. Dynamic Language Support</a>
                    <ol class="toc-list  is-collapsible is-collapsed">
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-a-first-example"
                                class="toc-link node-name--H3 ">3.1. A First Example</a></li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans"
                                class="toc-link node-name--H3 ">3.2. Defining Beans that Are Backed by Dynamic
                            Languages</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts"
                                        class="toc-link node-name--H4 ">3.2.1. Common Concepts</a>
                                    <ol class="toc-list  is-collapsible is-collapsed">
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts-xml-language-element"
                                                class="toc-link node-name--H5 ">The &lt;lang:language/&gt; element</a>
                                        </li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-refreshable-beans"
                                                class="toc-link node-name--H5 ">Refreshable Beans</a></li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-inline"
                                                class="toc-link node-name--H5 ">Inline Dynamic Language Source Files</a>
                                        </li>
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-ctor-injection"
                                                class="toc-link node-name--H5 ">Understanding Constructor Injection in
                                            the Context of Dynamic-language-backed Beans</a></li>
                                    </ol>
                                </li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy"
                                        class="toc-link node-name--H4 ">3.2.2. Groovy Beans</a>
                                    <ol class="toc-list  is-collapsible is-collapsed">
                                        <li class="toc-list-item"><a
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy-customizer"
                                                class="toc-link node-name--H5 ">Customizing Groovy Objects by Using a
                                            Callback</a></li>
                                    </ol>
                                </li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-bsh"
                                        class="toc-link node-name--H4 ">3.2.3. BeanShell Beans</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios"
                                class="toc-link node-name--H3 ">3.3. Scenarios</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-controllers"
                                        class="toc-link node-name--H4 ">3.3.1. Scripted Spring MVC Controllers</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-validators"
                                        class="toc-link node-name--H4 ">3.3.2. Scripted Validators</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes"
                                class="toc-link node-name--H3 ">3.4. Additional Details</a>
                            <ol class="toc-list  is-collapsible is-collapsed">
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-aop"
                                        class="toc-link node-name--H4 ">3.4.1. AOP — Advising Scripted Beans</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-scopes"
                                        class="toc-link node-name--H4 ">3.4.2. Scoping</a></li>
                                <li class="toc-list-item"><a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#xsd-schemas-lang"
                                        class="toc-link node-name--H4 ">3.4.3. The lang XML schema</a></li>
                            </ol>
                        </li>
                        <li class="toc-list-item"><a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-resources"
                                class="toc-link node-name--H3 ">3.5. Further Resources</a></li>
                    </ol>
                </li>
            </ol>
        </div>
    </div>
</div>
<div id="content">
    <div class="sect1">
        <h2 id="kotlin"><a class="anchor"
                           href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin"></a>1.
            Kotlin</h2>
        <div class="sectionbody">
            <div class="paragraph">
                <p><a href="https://kotlinlang.org/">Kotlin</a> is a statically typed language that targets the JVM
                    (and other platforms) which allows writing concise and elegant code while providing
                    very good <a href="https://kotlinlang.org/docs/reference/java-interop.html">interoperability</a>
                    with existing libraries written in Java.</p>
            </div>
            <div class="paragraph">
                <p>The Spring Framework provides first-class support for Kotlin and lets developers write
                    Kotlin applications almost as if the Spring Framework was a native Kotlin framework.</p>
            </div>
            <div class="paragraph">
                <p>The easiest way to build a Spring application with Kotlin is to leverage Spring Boot and
                    its
                    <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-kotlin.html">dedicated
                        Kotlin support</a>.
                    <a href="https://spring.io/guides/tutorials/spring-boot-kotlin/">This comprehensive tutorial</a>
                    will teach you how to build Spring Boot applications with Kotlin using <a
                            href="https://start.spring.io/#!language=kotlin&amp;type=gradle-project">start.spring.io</a>.
                </p>
            </div>
            <div class="paragraph">
                <p>Feel free to join the #spring channel of <a href="https://slack.kotlinlang.org/">Kotlin Slack</a>
                    or ask a question with <code>spring</code> and <code>kotlin</code> as tags on
                    <a href="https://stackoverflow.com/questions/tagged/spring+kotlin">Stackoverflow</a> if you need
                    support.</p>
            </div>
            <div class="sect2">
                <h3 id="kotlin-requirements"><a class="anchor"
                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-requirements"></a>1.1.
                    Requirements</h3>
                <div class="paragraph">
                    <p>Spring Framework supports Kotlin 1.3 and requires
                        <a href="https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-stdlib"><code>kotlin-stdlib</code></a>
                        (or one of its variants, such as <a
                                href="https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-stdlib-jdk8"><code>kotlin-stdlib-jdk8</code></a>)
                        and <a href="https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-reflect"><code>kotlin-reflect</code></a>
                        to be present on the classpath. They are provided by default if you bootstrap a Kotlin project
                        on
                        <a href="https://start.spring.io/#!language=kotlin&amp;type=gradle-project">start.spring.io</a>.
                    </p>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-extensions"><a class="anchor"
                                              href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-extensions"></a>1.2.
                    Extensions</h3>
                <div class="paragraph">
                    <p>Kotlin <a href="https://kotlinlang.org/docs/reference/extensions.html">extensions</a> provide the
                        ability
                        to extend existing classes with additional functionality. The Spring Framework Kotlin APIs
                        use these extensions to add new Kotlin-specific conveniences to existing Spring APIs.</p>
                </div>
                <div class="paragraph">
                    <p>The <a
                            href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/">Spring
                        Framework KDoc API</a> lists
                        and documents all available the Kotlin extensions and DSLs.</p>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                Keep in mind that Kotlin extensions need to be imported to be used. This means,
                                for example, that the <code>GenericApplicationContext.registerBean</code> Kotlin
                                extension
                                is available only if <code>org.springframework.context.support.registerBean</code> is
                                imported.
                                That said, similar to static imports, an IDE should automatically suggest the import in
                                most cases.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="paragraph">
                    <p>For example, <a
                            href="https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters">Kotlin
                        reified type parameters</a>
                        provide a workaround for JVM <a
                                href="https://docs.oracle.com/javase/tutorial/java/generics/erasure.html">generics type
                            erasure</a>,
                        and the Spring Framework provides some extensions to take advantage of this feature.
                        This allows for a better Kotlin API <code>RestTemplate</code>, for the new
                        <code>WebClient</code> from Spring
                        WebFlux, and for various other APIs.</p>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                Other libraries, such as Reactor and Spring Data, also provide Kotlin extensions
                                for their APIs, thus giving a better Kotlin development experience overall.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="paragraph">
                    <p>To retrieve a list of <code>User</code> objects in Java, you would normally write the following:
                    </p>
                </div>
                <div class="listingblock">
                    <div class="content">
                        <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Flux&lt;User&gt; users  = client.get().retrieve().bodyToFlux(User.class)</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>With Kotlin and the Spring Framework extensions, you can instead write the following:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-keyword">val</span> users = client.<span class="hljs-keyword">get</span>().retrieve().bodyToFlux&lt;User&gt;()
<span class="hljs-comment">// or (both are equivalent)</span>
<span class="hljs-keyword">val</span> users : Flux&lt;User&gt; = client.<span class="hljs-keyword">get</span>().retrieve().bodyToFlux()</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>As in Java, <code>users</code> in Kotlin is strongly typed, but Kotlin’s clever type inference
                        allows
                        for shorter syntax.</p>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-null-safety"><a class="anchor"
                                               href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-null-safety"></a>1.3.
                    Null-safety</h3>
                <div class="paragraph">
                    <p>One of Kotlin’s key features is <a href="https://kotlinlang.org/docs/reference/null-safety.html">null-safety</a>,
                        which cleanly deals with <code>null</code> values at compile time rather than bumping into the
                        famous
                        <code>NullPointerException</code> at runtime. This makes applications safer through nullability
                        declarations and expressing “value or no value” semantics without paying the cost of wrappers,
                        such as <code>Optional</code>.
                        (Kotlin allows using functional constructs with nullable values. See this
                        <a href="https://www.baeldung.com/kotlin-null-safety">comprehensive guide to Kotlin
                            null-safety</a>.)</p>
                </div>
                <div class="paragraph">
                    <p>Although Java does not let you express null-safety in its type-system, the Spring Framework
                        provides <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#null-safety">null-safety
                            of the whole Spring Framework API</a>
                        via tooling-friendly annotations declared in the <code>org.springframework.lang</code> package.
                        By default, types from Java APIs used in Kotlin are recognized as
                        <a href="https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types">platform
                            types</a>,
                        for which null-checks are relaxed.
                        <a href="https://kotlinlang.org/docs/reference/java-interop.html#jsr-305-support">Kotlin support
                            for JSR-305 annotations</a>
                        and Spring nullability annotations provide null-safety for the whole Spring Framework API to
                        Kotlin developers,
                        with the advantage of dealing with <code>null</code>-related issues at compile time.</p>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                Libraries such as Reactor or Spring Data provide null-safe APIs to leverage this
                                feature.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="paragraph">
                    <p>You can configure JSR-305 checks by adding the <code>-Xjsr305</code> compiler flag with the
                        following
                        options: <code>-Xjsr305={strict|warn|ignore}</code>.</p>
                </div>
                <div class="paragraph">
                    <p>For kotlin versions 1.1+, the default behavior is the same as <code>-Xjsr305=warn</code>.
                        The <code>strict</code> value is required to have Spring Framework API null-safety taken into
                        account
                        in Kotlin types inferred from Spring API but should be used with the knowledge that Spring
                        API nullability declaration could evolve even between minor releases and that more checks may
                        be added in the future).</p>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                Generic type arguments, varargs, and array elements nullability are not supported yet,
                                but should be in an upcoming release. See <a
                                    href="https://github.com/Kotlin/KEEP/issues/79">this discussion</a>
                                for up-to-date information.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-classes-interfaces"><a class="anchor"
                                                      href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-classes-interfaces"></a>1.4.
                    Classes and Interfaces</h3>
                <div class="paragraph">
                    <p>The Spring Framework supports various Kotlin constructs, such as instantiating Kotlin classes
                        through primary constructors, immutable classes data binding, and function optional parameters
                        with default values.</p>
                </div>
                <div class="paragraph">
                    <p>Kotlin parameter names are recognized through a dedicated <code>KotlinReflectionParameterNameDiscoverer</code>,
                        which allows finding interface method parameter names without requiring the Java 8 <code>-parameters</code>
                        compiler flag to be enabled during compilation.</p>
                </div>
                <div class="paragraph">
                    <p>The <a href="https://github.com/FasterXML/jackson-module-kotlin">Jackson Kotlin module</a>, which
                        is required
                        for serializing or deserializing JSON data, is automatically registered when
                        found in the classpath, and a warning message is logged if Jackson and Kotlin are
                        detected without the Jackson Kotlin module being present.</p>
                </div>
                <div class="paragraph">
                    <p>You can declare configuration classes as
                        <a href="https://kotlinlang.org/docs/reference/nested-classes.html">top level or nested but not
                            inner</a>,
                        since the later requires a reference to the outer class.</p>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-annotations"><a class="anchor"
                                               href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-annotations"></a>1.5.
                    Annotations</h3>
                <div class="paragraph">
                    <p>The Spring Framework also takes advantage of <a
                            href="https://kotlinlang.org/docs/reference/null-safety.html">Kotlin null-safety</a>
                        to determine if a HTTP parameter is required without having to explicitly
                        define the <code>required</code> attribute. That means <code>@RequestParam name: String?</code>
                        is treated
                        as not required and, conversely, <code>@RequestParam name: String</code> is treated as being
                        required.
                        This feature is also supported on the Spring Messaging <code>@Header</code> annotation.</p>
                </div>
                <div class="paragraph">
                    <p>In a similar fashion, Spring bean injection with <code>@Autowired</code>, <code>@Bean</code>, or
                        <code>@Inject</code> uses
                        this information to determine if a bean is required or not.</p>
                </div>
                <div class="paragraph">
                    <p>For example, <code>@Autowired lateinit var thing: Thing</code> implies that a bean
                        of type <code>Thing</code> must be registered in the application context, while <code>@Autowired
                            lateinit var thing: Thing?</code>
                        does not raise an error if such a bean does not exist.</p>
                </div>
                <div class="paragraph">
                    <p>Following the same principle, <code>@Bean fun play(toy: Toy, car: Car?) = Baz(toy, Car)</code>
                        implies
                        that a bean of type <code>Toy</code> must be registered in the application context, while a bean
                        of
                        type <code>Car</code> may or may not exist. The same behavior applies to autowired constructor
                        parameters.</p>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                If you use bean validation on classes with properties or a primary constructor
                                parameters, you may need to use
                                <a href="https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets">annotation
                                    use-site targets</a>,
                                such as <code>@field:NotNull</code> or <code>@get:Size(min=5, max=15)</code>, as
                                described in
                                <a href="https://stackoverflow.com/a/35853200/1092077">this Stack Overflow response</a>.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-bean-definition-dsl"><a class="anchor"
                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-bean-definition-dsl"></a>1.6.
                    Bean Definition DSL</h3>
                <div class="paragraph">
                    <p>Spring Framework supports registering beans in a functional way by using lambdas
                        as an alternative to XML or Java configuration (<code>@Configuration</code> and
                        <code>@Bean</code>). In a nutshell,
                        it lets you register beans with a lambda that acts as a <code>FactoryBean</code>.
                        This mechanism is very efficient, as it does not require any reflection or CGLIB proxies.</p>
                </div>
                <div class="paragraph">
                    <p>In Java, you can, for example, write the following:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Foo foo;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Bar</span><span
            class="hljs-params">(Foo foo)</span> </span>{
        <span class="hljs-keyword">this</span>.foo = foo;
    }
}

GenericApplicationContext context = <span class="hljs-keyword">new</span> GenericApplicationContext();
context.registerBean(Foo.class);
context.registerBean(Bar.class, () -&gt; <span class="hljs-keyword">new</span> Bar(context.getBean(Foo.class)));</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>In Kotlin, with reified type parameters and <code>GenericApplicationContext</code> Kotlin
                        extensions,
                        you can instead write the following:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span></span>(<span
            class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> foo: Foo)

<span class="hljs-keyword">val</span> context = GenericApplicationContext().apply {
    registerBean&lt;Foo&gt;()
    registerBean { Bar(it.getBean()) }
}</code></pre>
                    </div>
                </div>
                <div class="exampleblock">
                    <div class="content">
                        <div class="paragraph">
                            <p>When the class <code>Bar</code> has a single constructor, you can even just specify the
                                bean class,
                                the constructor parameters will be autowired by type:</p>
                        </div>
                    </div>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-keyword">val</span> context = GenericApplicationContext().apply {
    registerBean&lt;Foo&gt;()
    registerBean&lt;Bar&gt;()
}</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>In order to allow a more declarative approach and cleaner syntax, Spring Framework provides
                        a
                        <a href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.context.support/-bean-definition-dsl/">Kotlin
                            bean definition DSL</a>
                        It declares an <code>ApplicationContextInitializer</code> through a clean declarative API,
                        which lets you deal with profiles and <code>Environment</code> for customizing
                        how beans are registered.</p>
                </div>
                <div class="paragraph">
                    <p>In the following example notice that:</p>
                </div>
                <div class="ulist">
                    <ul>
                        <li>
                            <p>Type inference usually allows to avoid specifying the type for bean references like
                                <code>ref("bazBean")</code></p>
                        </li>
                        <li>
                            <p>It is possible to use Kotlin top level functions to declare beans using callable
                                references like <code>bean(::myRouter)</code> in this example</p>
                        </li>
                        <li>
                            <p>When specifying <code>bean&lt;Bar&gt;()</code> or <code>bean(::myRouter)</code>,
                                parameters are autowired by type</p>
                        </li>
                        <li>
                            <p>The <code>FooBar</code> bean will be registered only if the <code>foobar</code> profile
                                is active</p>
                        </li>
                    </ul>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">Foo</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span></span>(<span
            class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> foo: Foo)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Baz</span></span>(<span
            class="hljs-keyword">var</span> message: String = <span class="hljs-string">""</span>)
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FooBar</span></span>(<span
            class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> baz: Baz)

<span class="hljs-keyword">val</span> myBeans = beans {
    bean&lt;Foo&gt;()
    bean&lt;Bar&gt;()
    bean(<span class="hljs-string">"bazBean"</span>) {
        Baz().apply {
            message = <span class="hljs-string">"Hello world"</span>
        }
    }
    profile(<span class="hljs-string">"foobar"</span>) {
        bean { FooBar(ref(<span class="hljs-string">"bazBean"</span>)) }
    }
    bean(::myRouter)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">myRouter</span><span
        class="hljs-params">(foo: <span class="hljs-type">Foo</span>, bar: <span
        class="hljs-type">Bar</span>, baz: <span class="hljs-type">Baz</span>)</span></span> = router {
    <span class="hljs-comment">// ...</span>
}</code></pre>
                    </div>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                This DSL is programmatic, meaning it allows custom registration logic of beans
                                through an <code>if</code> expression, a <code>for</code> loop, or any other Kotlin
                                constructs.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="paragraph">
                    <p>You can then use this <code>beans()</code> function to register beans on the application context,
                        as the following example shows:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-keyword">val</span> context = GenericApplicationContext().apply {
    myBeans.initialize(<span class="hljs-keyword">this</span>)
    refresh()
}</code></pre>
                    </div>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                Spring Boot is based on JavaConfig and
                                <a href="https://github.com/spring-projects/spring-boot/issues/8115">does not yet
                                    provide specific support for functional bean definition</a>,
                                but you can experimentally use functional bean definitions through Spring Boot’s <code>ApplicationContextInitializer</code>
                                support.
                                See <a
                                    href="https://stackoverflow.com/questions/45935931/how-to-use-functional-bean-definition-kotlin-dsl-with-spring-boot-and-spring-w/46033685#46033685">this
                                Stack Overflow answer</a>
                                for more details and up-to-date information. See also the experimental Kofu DSL
                                developed in <a href="https://github.com/spring-projects/spring-fu">Spring Fu
                                incubator</a>.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-web"><a class="anchor"
                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-web"></a>1.7.
                    Web</h3>
                <div class="sect3">
                    <h4 id="router-dsl"><a class="anchor"
                                           href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#router-dsl"></a>1.7.1.
                        Router DSL</h4>
                    <div class="paragraph">
                        <p>Spring Framework comes with a Kotlin router DSL available in 3 flavors:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>WebMvc.fn DSL with <a
                                        href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.servlet.function/router.html">router
                                    { }</a></p>
                            </li>
                            <li>
                                <p>WebFlux.fn <a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/web-reactive.html#webflux-fn">Reactive</a>
                                    DSL with <a
                                            href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.server/router.html">router
                                        { }</a></p>
                            </li>
                            <li>
                                <p>WebFlux.fn <a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#coroutines">Coroutines</a>
                                    DSL with <a
                                            href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.server/co-router.html">coRouter
                                        { }</a></p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>These DSL let you write clean and idiomatic Kotlin code to build a
                            <code>RouterFunction</code> instance as the following example shows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Configuration</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">RouterRouterConfiguration</span> </span>{

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">mainRouter</span><span
            class="hljs-params">(userHandler: <span class="hljs-type">UserHandler</span>)</span></span> = router {
        accept(TEXT_HTML).nest {
            GET(<span class="hljs-string">"/"</span>) { ok().render(<span class="hljs-string">"index"</span>) }
            GET(<span class="hljs-string">"/sse"</span>) { ok().render(<span class="hljs-string">"sse"</span>) }
            GET(<span class="hljs-string">"/users"</span>, userHandler::findAllView)
        }
        <span class="hljs-string">"/api"</span>.nest {
            accept(APPLICATION_JSON).nest {
                GET(<span class="hljs-string">"/users"</span>, userHandler::findAll)
            }
            accept(TEXT_EVENT_STREAM).nest {
                GET(<span class="hljs-string">"/users"</span>, userHandler::stream)
            }
        }
        resources(<span class="hljs-string">"/**"</span>, ClassPathResource(<span class="hljs-string">"static/"</span>))
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    This DSL is programmatic, meaning that it allows custom registration logic of beans
                                    through an <code>if</code> expression, a <code>for</code> loop, or any other Kotlin
                                    constructs. That can be useful
                                    when you need to register routes depending on dynamic data (for example, from a
                                    database).
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>See <a href="https://github.com/mixitconf/mixit/">MiXiT project</a> for a concrete example.
                        </p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="mockmvc-dsl"><a class="anchor"
                                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#mockmvc-dsl"></a>1.7.2.
                        MockMvc DSL</h4>
                    <div class="paragraph">
                        <p>A Kotlin DSL is provided via <code>MockMvc</code> Kotlin extensions in order to provide a
                            more
                            idiomatic Kotlin API and to allow better discoverability (no usage of static methods).</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-keyword">val</span> mockMvc: MockMvc = ...
mockMvc.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/person/{name}"</span>, <span
            class="hljs-string">"Lee"</span>) {
    secure = <span class="hljs-literal">true</span>
    accept = APPLICATION_JSON
    headers {
        contentLanguage = Locale.FRANCE
    }
    principal = Principal { <span class="hljs-string">"foo"</span> }
}.andExpect {
    status { isOk }
    content { contentType(APPLICATION_JSON) }
    jsonPath(<span class="hljs-string">"$.name"</span>) { value(<span class="hljs-string">"Lee"</span>) }
    content { json(<span class="hljs-string">"""{"someBoolean": false}"""</span>, <span
            class="hljs-literal">false</span>) }
}.andDo {
    print()
}</code></pre>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="kotlin-script-templates"><a class="anchor"
                                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-script-templates"></a>1.7.3.
                        Kotlin Script Templates</h4>
                    <div class="paragraph">
                        <p>Spring Framework provides a
                            <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/script/ScriptTemplateView.html"><code>ScriptTemplateView</code></a>
                            which supports <a href="https://www.jcp.org/en/jsr/detail?id=223">JSR-223</a> to render
                            templates by using script engines.</p>
                    </div>
                    <div class="paragraph">
                        <p>By leveraging <code>kotlin-script-runtime</code> and <code>scripting-jsr223-embeddable</code>
                            dependencies, it
                            is possible to use such feature to render Kotlin-based templates with
                            <a href="https://github.com/Kotlin/kotlinx.html">kotlinx.html</a> DSL or Kotlin multiline
                            interpolated <code>String</code>.</p>
                    </div>
                    <div class="paragraph">
                        <p><code>build.gradle.kts</code></p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">dependencies {
    compile(<span class="hljs-string">"org.jetbrains.kotlin:kotlin-script-runtime:<span class="hljs-subst">${kotlinVersion}</span>"</span>)
    runtime(<span class="hljs-string">"org.jetbrains.kotlin:kotlin-scripting-jsr223-embeddable:<span class="hljs-subst">${kotlinVersion}</span>"</span>)
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Configuration is usually done with <code>ScriptTemplateConfigurer</code> and <code>ScriptTemplateViewResolver</code>
                            beans.</p>
                    </div>
                    <div class="paragraph">
                        <p><code>KotlinScriptConfiguration.kt</code></p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Configuration</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">KotlinScriptConfiguration</span> </span>{

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">kotlinScriptConfigurer</span><span class="hljs-params">()</span></span> = ScriptTemplateConfigurer().apply {
        engineName = <span class="hljs-string">"kotlin"</span>
        setScripts(<span class="hljs-string">"scripts/render.kts"</span>)
        renderFunction = <span class="hljs-string">"render"</span>
        isSharedEngine = <span class="hljs-literal">false</span>
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">kotlinScriptViewResolver</span><span class="hljs-params">()</span></span> = ScriptTemplateViewResolver().apply {
        setPrefix(<span class="hljs-string">"templates/"</span>)
        setSuffix(<span class="hljs-string">".kts"</span>)
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>See the <a href="https://github.com/sdeleuze/kotlin-script-templating">kotlin-script-templating</a>
                            example
                            project for more details.</p>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="coroutines"><a class="anchor"
                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#coroutines"></a>1.8.
                    Coroutines</h3>
                <div class="paragraph">
                    <p>Kotlin <a href="https://kotlinlang.org/docs/reference/coroutines-overview.html">Coroutines</a>
                        are Kotlin
                        lightweight threads allowing to write non-blocking code in an imperative way. On language side,
                        suspending functions provides an abstraction for asynchronous operations while on library side
                        <a href="https://github.com/Kotlin/kotlinx.coroutines">kotlinx.coroutines</a> provides functions
                        likes
                        <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/async.html"><code>async
                            { }</code></a>
                        and types like <a
                                href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html"><code>Flow</code></a>.
                    </p>
                </div>
                <div class="paragraph">
                    <p>Spring Framework provides support for Coroutines on the following scope:</p>
                </div>
                <div class="ulist">
                    <ul>
                        <li>
                            <p>
                                <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-deferred/index.html">Deferred</a>
                                and <a
                                    href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a>
                                return values support in Spring WebFlux annotated <code>@Controller</code></p>
                        </li>
                        <li>
                            <p>Suspending function support in Spring WebFlux annotated <code>@Controller</code></p>
                        </li>
                        <li>
                            <p>Extensions for WebFlux <a
                                    href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.client/index.html">client</a>
                                and
                                <a href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.server/index.html">server</a>
                                functional API.</p>
                        </li>
                        <li>
                            <p>WebFlux.fn <a
                                    href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.server/co-router.html">coRouter
                                { }</a> DSL</p>
                        </li>
                        <li>
                            <p>Suspending function and <code>Flow</code> support in RSocket <code>@MessageMapping</code>
                                annotated methods</p>
                        </li>
                        <li>
                            <p>Extensions for <a
                                    href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.messaging.rsocket/index.html"><code>RSocketRequester</code></a>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="sect3">
                    <h4 id="dependencies"><a class="anchor"
                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dependencies"></a>1.8.1.
                        Dependencies</h4>
                    <div class="paragraph">
                        <p>Coroutines support is enabled when <code>kotlinx-coroutines-core</code> and <code>kotlinx-coroutines-reactor</code>
                            dependencies are in the classpath:</p>
                    </div>
                    <div class="paragraph">
                        <p><code>build.gradle.kts</code></p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">dependencies {

    implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-coroutines-core:<span class="hljs-subst">${coroutinesVersion}</span>"</span>)
    implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-coroutines-reactor:<span class="hljs-subst">${coroutinesVersion}</span>"</span>)
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Version <code>1.3.0</code> and above are supported.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="how-reactive-translates-to-coroutines"><a class="anchor"
                                                                      href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#how-reactive-translates-to-coroutines"></a>1.8.2.
                        How Reactive translates to Coroutines?</h4>
                    <div class="paragraph">
                        <p>For return values, the translation from Reactive to Coroutines APIs is the following:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p><code>fun handler(): Mono&lt;Void&gt;</code> becomes <code>suspend fun
                                    handler()</code></p>
                            </li>
                            <li>
                                <p><code>fun handler(): Mono&lt;T&gt;</code> becomes <code>suspend fun handler():
                                    T</code> or <code>suspend fun handler(): T?</code> depending on if the
                                    <code>Mono</code> can be empty or not (with the advantage of beeing more statically
                                    typed)</p>
                            </li>
                            <li>
                                <p><code>fun handler(): Flux&lt;T&gt;</code> becomes <code>fun handler():
                                    Flow&lt;T&gt;</code></p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>For input parameters:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>If laziness is not needed, <code>fun handler(mono: Mono&lt;T&gt;)</code> becomes
                                    <code>fun handler(value: T)</code> since a suspending functions can be invoked to
                                    get the value parameter.</p>
                            </li>
                            <li>
                                <p>If laziness is needed, <code>fun handler(mono: Mono&lt;T&gt;)</code> becomes <code>fun
                                    handler(supplier: suspend () → T)</code> or <code>fun handler(supplier: suspend () →
                                    T?)</code></p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>
                            <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html"><code>Flow</code></a>
                            is <code>Flux</code> equivalent in Coroutines world, suitable for hot or cold stream, finite
                            or infinite streams, with the following main differences:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p><code>Flow</code> is push-based while <code>Flux</code> is push-pull hybrid</p>
                            </li>
                            <li>
                                <p>Backpressure is implemented via suspending functions</p>
                            </li>
                            <li>
                                <p><code>Flow</code> has only a <a
                                        href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/collect.html">single
                                    suspending <code>collect</code> method</a> and operators are implemented as <a
                                        href="https://kotlinlang.org/docs/reference/extensions.html">extensions</a></p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://github.com/Kotlin/kotlinx.coroutines/tree/master/kotlinx-coroutines-core/common/src/flow/operators">Operators
                                        are easy to implement</a> thanks to Coroutines</p>
                            </li>
                            <li>
                                <p>Extensions allow to add custom operators to <code>Flow</code></p>
                            </li>
                            <li>
                                <p>Collect operations are suspending functions</p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/map.html"><code>map</code>
                                        operator</a> supports asynchronous operation (no need for <code>flatMap</code>)
                                    since it takes a suspending function parameter</p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>Read this blog post about <a
                                href="https://spring.io/blog/2019/04/12/going-reactive-with-spring-coroutines-and-kotlin-flow">Going
                            Reactive with Spring, Coroutines and Kotlin Flow</a>
                            for more details, including how to run code concurrently with Coroutines.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="controllers"><a class="anchor"
                                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#controllers"></a>1.8.3.
                        Controllers</h4>
                    <div class="paragraph">
                        <p>Here is an example of a Coroutines <code>@RestController</code>.</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@RestController</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">CoroutinesRestController</span></span>(client: WebClient, banner: Banner) {

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/suspend"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">suspendingEndpoint</span><span class="hljs-params">()</span></span>: Banner {
        delay(<span class="hljs-number">10</span>)
        <span class="hljs-keyword">return</span> banner
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/flow"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">flowEndpoint</span><span
            class="hljs-params">()</span></span> = flow {
        delay(<span class="hljs-number">10</span>)
        emit(banner)
        delay(<span class="hljs-number">10</span>)
        emit(banner)
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/deferred"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">deferredEndpoint</span><span class="hljs-params">()</span></span> = GlobalScope.async {
        delay(<span class="hljs-number">10</span>)
        banner
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/sequential"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">sequential</span><span class="hljs-params">()</span></span>: List&lt;Banner&gt; {
        <span class="hljs-keyword">val</span> banner1 = client
                .<span class="hljs-keyword">get</span>()
                .uri(<span class="hljs-string">"/suspend"</span>)
                .accept(MediaType.APPLICATION_JSON)
                .awaitExchange()
                .awaitBody&lt;Banner&gt;()
        <span class="hljs-keyword">val</span> banner2 = client
                .<span class="hljs-keyword">get</span>()
                .uri(<span class="hljs-string">"/suspend"</span>)
                .accept(MediaType.APPLICATION_JSON)
                .awaitExchange()
                .awaitBody&lt;Banner&gt;()
        <span class="hljs-keyword">return</span> listOf(banner1, banner2)
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/parallel"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">parallel</span><span class="hljs-params">()</span></span>: List&lt;Banner&gt; = coroutineScope {
        <span class="hljs-keyword">val</span> deferredBanner1: Deferred&lt;Banner&gt; = async {
            client
                    .<span class="hljs-keyword">get</span>()
                    .uri(<span class="hljs-string">"/suspend"</span>)
                    .accept(MediaType.APPLICATION_JSON)
                    .awaitExchange()
                    .awaitBody&lt;Banner&gt;()
        }
        <span class="hljs-keyword">val</span> deferredBanner2: Deferred&lt;Banner&gt; = async {
            client
                    .<span class="hljs-keyword">get</span>()
                    .uri(<span class="hljs-string">"/suspend"</span>)
                    .accept(MediaType.APPLICATION_JSON)
                    .awaitExchange()
                    .awaitBody&lt;Banner&gt;()
        }
        listOf(deferredBanner1.await(), deferredBanner2.await())
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/error"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">error</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">throw</span> IllegalStateException()
    }

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/cancel"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">cancel</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">throw</span> CancellationException()
    }

}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>View rendering with a <code>@Controller</code> is also supported.</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Controller</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">CoroutinesViewController</span></span>(banner: Banner) {

    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">render</span><span class="hljs-params">(model: <span
            class="hljs-type">Model</span>)</span></span>: String {
        delay(<span class="hljs-number">10</span>)
        model[<span class="hljs-string">"banner"</span>] = banner
        <span class="hljs-keyword">return</span> <span class="hljs-string">"index"</span>
    }
}</code></pre>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="webflux-fn"><a class="anchor"
                                           href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#webflux-fn"></a>1.8.4.
                        WebFlux.fn</h4>
                    <div class="paragraph">
                        <p>Here is an example of Coroutines router defined via the <a
                                href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/kdoc-api/spring-framework/org.springframework.web.reactive.function.server/co-router.html">coRouter
                            { }</a> DSL and related handlers.</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Configuration</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">RouterConfiguration</span> </span>{

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">mainRouter</span><span
            class="hljs-params">(userHandler: <span class="hljs-type">UserHandler</span>)</span></span> = coRouter {
        GET(<span class="hljs-string">"/"</span>, userHandler::listView)
        GET(<span class="hljs-string">"/api/user"</span>, userHandler::listApi)
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">UserHandler</span></span>(builder: WebClient.Builder) {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> client = builder.baseUrl(<span
            class="hljs-string">"..."</span>).build()

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">listView</span><span class="hljs-params">(request: <span
            class="hljs-type">ServerRequest</span>)</span></span>: ServerResponse =
            ServerResponse.ok().renderAndAwait(<span class="hljs-string">"users"</span>, mapOf(<span
            class="hljs-string">"users"</span> to
            client.<span class="hljs-keyword">get</span>().uri(<span class="hljs-string">"..."</span>).awaitExchange().awaitBody&lt;User&gt;()))

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span
            class="hljs-title">listApi</span><span class="hljs-params">(request: <span
            class="hljs-type">ServerRequest</span>)</span></span>: ServerResponse =
                ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).bodyAndAwait(
                client.<span class="hljs-keyword">get</span>().uri(<span class="hljs-string">"..."</span>).awaitExchange().awaitBody&lt;User&gt;())
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-spring-projects-in-kotlin"><a class="anchor"
                                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-spring-projects-in-kotlin"></a>1.9.
                    Spring Projects in Kotlin</h3>
                <div class="paragraph">
                    <p>This section provides some specific hints and recommendations worth for developing Spring
                        projects
                        in Kotlin.</p>
                </div>
                <div class="sect3">
                    <h4 id="final-by-default"><a class="anchor"
                                                 href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#final-by-default"></a>1.9.1.
                        Final by Default</h4>
                    <div class="paragraph">
                        <p>By default, <a href="https://discuss.kotlinlang.org/t/classes-final-by-default/166">all
                            classes in Kotlin are <code>final</code></a>.
                            The <code>open</code> modifier on a class is the opposite of Java’s <code>final</code>: It
                            allows others to inherit from this
                            class. This also applies to member functions, in that they need to be marked as
                            <code>open</code> to be overridden.</p>
                    </div>
                    <div class="paragraph">
                        <p>While Kotlin’s JVM-friendly design is generally frictionless with Spring, this specific
                            Kotlin feature
                            can prevent the application from starting, if this fact is not taken into consideration.
                            This is because
                            Spring beans (such as <code>@Configuration</code> annotated classes which by default need to
                            be inherited at runtime for technical
                            reasons) are normally proxied by CGLIB. The workaround was to add an <code>open</code>
                            keyword on each class and
                            member function of Spring beans that are proxied by CGLIB, which can
                            quickly become painful and is against the Kotlin principle of keeping code concise and
                            predictable.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    It is also possible to avoid CGLIB proxies on configurations by using <code>@Configuration(proxyBeanMethods
                                    = false)</code>,
                                    see <a
                                        href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/javadoc-api/org/springframework/context/annotation/Configuration.html#proxyBeanMethods--"><code>proxyBeanMethods</code>
                                    Javadoc</a> for more details.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>Fortunately, Kotlin now provides a
                            <a href="https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-spring-compiler-plugin"><code>kotlin-spring</code></a>
                            plugin (a preconfigured version of the <code>kotlin-allopen</code> plugin) that
                            automatically opens classes
                            and their member functions for types that are annotated or meta-annotated with one of the
                            following
                            annotations:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p><code>@Component</code></p>
                            </li>
                            <li>
                                <p><code>@Async</code></p>
                            </li>
                            <li>
                                <p><code>@Transactional</code></p>
                            </li>
                            <li>
                                <p><code>@Cacheable</code></p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>Meta-annotations support means that types annotated with <code>@Configuration</code>, <code>@Controller</code>,
                            <code>@RestController</code>, <code>@Service</code>, or <code>@Repository</code> are
                            automatically opened since these
                            annotations are meta-annotated with <code>@Component</code>.</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            <a href="https://start.spring.io/#!language=kotlin&amp;type=gradle-project">start.spring.io</a>
                            enables it by default, so, in practice,
                            you can write your Kotlin beans without any additional <code>open</code> keyword, as in
                            Java.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="using-immutable-class-instances-for-persistence"><a class="anchor"
                                                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#using-immutable-class-instances-for-persistence"></a>1.9.2.
                        Using Immutable Class Instances for Persistence</h4>
                    <div class="paragraph">
                        <p>In Kotlin, it is convenient and considered to be a best practice to declare read-only
                            properties
                            within the primary constructor, as in the following example:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="highlightjs highlight"><code class="language-kotlin hljs"
                                                                     data-lang="kotlin"><span class="hljs-class"><span
                                    class="hljs-keyword">class</span> <span
                                    class="hljs-title">Person</span></span>(<span class="hljs-keyword">val</span> name: String, <span
                                    class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>)</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>You can optionally add <a href="https://kotlinlang.org/docs/reference/data-classes.html">the
                            <code>data</code> keyword</a>
                            to make the compiler automatically derive the following members from all properties declared
                            in the primary constructor:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p><code>equals()</code> and <code>hashCode()</code></p>
                            </li>
                            <li>
                                <p><code>toString()</code> of the form <code>"User(name=John, age=42)"</code></p>
                            </li>
                            <li>
                                <p><code>componentN()</code> functions that correspond to the properties in their order
                                    of declaration</p>
                            </li>
                            <li>
                                <p><code>copy()</code> function</p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>As the following example shows, this allows for easy changes to individual properties, even
                            if <code>Person</code> properties are read-only:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">Person</span></span>(<span class="hljs-keyword">val</span> name: String, <span
        class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>)

<span class="hljs-keyword">val</span> jack = Person(name = <span class="hljs-string">"Jack"</span>, age = <span
            class="hljs-number">1</span>)
<span class="hljs-keyword">val</span> olderJack = jack.copy(age = <span class="hljs-number">2</span>)</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Common persistence technologies (such as JPA) require a default constructor, preventing this
                            kind of design. Fortunately, there is now a workaround for this
                            <a href="https://stackoverflow.com/questions/32038177/kotlin-with-jpa-default-constructor-hell">“default
                                constructor hell”</a>,
                            since Kotlin provides a <a
                                    href="https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-jpa-compiler-plugin"><code>kotlin-jpa</code></a>
                            plugin that generates synthetic no-arg constructor for classes annotated with JPA
                            annotations.</p>
                    </div>
                    <div class="paragraph">
                        <p>If you need to leverage this kind of mechanism for other persistence technologies, you can
                            configure
                            the
                            <a href="https://kotlinlang.org/docs/reference/compiler-plugins.html#how-to-use-no-arg-plugin"><code>kotlin-noarg</code></a>
                            plugin.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    As of the Kay release train, Spring Data supports Kotlin immutable class instances
                                    and
                                    does not require the <code>kotlin-noarg</code> plugin if the module uses Spring Data
                                    object mappings
                                    (such as MongoDB, Redis, Cassandra, and others).
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="injecting-dependencies"><a class="anchor"
                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-dependencies"></a>1.9.3.
                        Injecting Dependencies</h4>
                    <div class="paragraph">
                        <p>Our recommendation is to try and favor constructor injection with <code>val</code> read-only
                            (and
                            non-nullable when possible) <a href="https://kotlinlang.org/docs/reference/properties.html">properties</a>,
                            as the following example shows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Component</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YourBean</span></span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mongoTemplate: MongoTemplate,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> solrClient: SolrClient
)</code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    Classes with a single constructor have their parameters automatically autowired,
                                    that’s why there is no need for an explicit <code>@Autowired constructor</code> in
                                    the example shown
                                    above.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>If you really need to use field injection, you can use the <code>lateinit var</code>
                            construct,
                            as the following example shows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@Component</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">YourBean</span> </span>{

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> mongoTemplate: MongoTemplate

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> solrClient: SolrClient
}</code></pre>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="injecting-configuration-properties"><a class="anchor"
                                                                   href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#injecting-configuration-properties"></a>1.9.4.
                        Injecting Configuration Properties</h4>
                    <div class="paragraph">
                        <p>In Java, you can inject configuration properties by using annotations (such as <code>@Value("${property}")</code>).
                            However, in Kotlin, <code>$</code> is a reserved character that is used for
                            <a href="https://kotlinlang.org/docs/reference/idioms.html#string-interpolation">string
                                interpolation</a>.</p>
                    </div>
                    <div class="paragraph">
                        <p>Therefore, if you wish to use the <code>@Value</code> annotation in Kotlin, you need to
                            escape the <code>$</code>
                            character by writing <code>@Value("\${property}")</code>.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    If you use Spring Boot, you should probably use
                                    <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties"><code>@ConfigurationProperties</code></a>
                                    instead of <code>@Value</code> annotations.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>As an alternative, you can customize the properties placeholder prefix by declaring the
                            following configuration beans:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-meta">@Bean</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span
        class="hljs-title">propertyConfigurer</span><span class="hljs-params">()</span></span> = PropertySourcesPlaceholderConfigurer().apply {
    setPlaceholderPrefix(<span class="hljs-string">"%{"</span>)
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>You can customize existing code (such as Spring Boot actuators or
                            <code>@LocalServerPort</code>)
                            that uses the <code>${…​}</code> syntax, with configuration beans, as the following example
                            shows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span
        class="hljs-meta">@Bean</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span
        class="hljs-title">kotlinPropertyConfigurer</span><span class="hljs-params">()</span></span> = PropertySourcesPlaceholderConfigurer().apply {
    setPlaceholderPrefix(<span class="hljs-string">"%{"</span>)
    setIgnoreUnresolvablePlaceholders(<span class="hljs-literal">true</span>)
}

<span class="hljs-meta">@Bean</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span
        class="hljs-title">defaultPropertyConfigurer</span><span class="hljs-params">()</span></span> = PropertySourcesPlaceholderConfigurer()</code></pre>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="checked-exceptions"><a class="anchor"
                                                   href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#checked-exceptions"></a>1.9.5.
                        Checked Exceptions</h4>
                    <div class="paragraph">
                        <p>Java and <a href="https://kotlinlang.org/docs/reference/exceptions.html">Kotlin exception
                            handling</a>
                            are pretty close, with the main difference being that Kotlin treats all exceptions as
                            unchecked exceptions. However, when using proxied objects (for example classes or methods
                            annotated with <code>@Transactional</code>), checked exceptions thrown will be wrapped by
                            default in
                            an <code>UndeclaredThrowableException</code>.</p>
                    </div>
                    <div class="paragraph">
                        <p>To get the original exception thrown like in Java, methods should be annotated with
                            <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/index.html"><code>@Throws</code></a>
                            to specify explicitly the checked exceptions thrown (for example <code>@Throws(IOException::class)</code>).
                        </p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="annotation-array-attributes"><a class="anchor"
                                                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#annotation-array-attributes"></a>1.9.6.
                        Annotation Array Attributes</h4>
                    <div class="paragraph">
                        <p>Kotlin annotations are mostly similar to Java annotations, but array attributes (which are
                            extensively used in Spring) behave differently. As explained in
                            <a href="https://kotlinlang.org/docs/reference/annotations.html">Kotlin documentation</a>
                            you can omit
                            the <code>value</code> attribute name, unlike other attributes, and specify it as a <code>vararg</code>
                            parameter.</p>
                    </div>
                    <div class="paragraph">
                        <p>To understand what that means, consider <code>@RequestMapping</code> (which is one of the
                            most widely
                            used Spring annotations) as an example. This Java annotation is declared as follows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> RequestMapping {

    <span class="hljs-meta">@AliasFor</span>(<span class="hljs-string">"path"</span>)
    String[] value() <span class="hljs-keyword">default</span> {};

    <span class="hljs-meta">@AliasFor</span>(<span class="hljs-string">"value"</span>)
    String[] path() <span class="hljs-keyword">default</span> {};

    RequestMethod[] method() <span class="hljs-keyword">default</span> {};

    <span class="hljs-comment">// ...</span>
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The typical use case for <code>@RequestMapping</code> is to map a handler method to a
                            specific path
                            and method. In Java, you can specify a single value for the annotation array attribute,
                            and it is automatically converted to an array.</p>
                    </div>
                    <div class="paragraph">
                        <p>That is why one can write
                            <code>@RequestMapping(value = "/toys", method = RequestMethod.GET)</code> or
                            <code>@RequestMapping(path = "/toys", method = RequestMethod.GET)</code>.</p>
                    </div>
                    <div class="paragraph">
                        <p>However, in Kotlin, you must write <code>@RequestMapping("/toys", method =
                            [RequestMethod.GET])</code>
                            or <code>@RequestMapping(path = ["/toys"], method = [RequestMethod.GET])</code> (square
                            brackets need
                            to be specified with named array attributes).</p>
                    </div>
                    <div class="paragraph">
                        <p>An alternative for this specific <code>method</code> attribute (the most common one) is to
                            use a shortcut annotation, such as <code>@GetMapping</code>, <code>@PostMapping</code>, and
                            others.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    Reminder: If the <code>@RequestMapping</code> <code>method</code> attribute is not
                                    specified,
                                    all HTTP methods will be matched, not only the <code>GET</code> one.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="testing"><a class="anchor"
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#testing"></a>1.9.7.
                        Testing</h4>
                    <div class="paragraph">
                        <p>This section addresses testing with the combination of Kotlin and Spring Framework.
                            The recommended testing framework is <a href="https://junit.org/junit5/">JUnit 5</a>, as
                            well as
                            <a href="https://mockk.io/">Mockk</a> for mocking.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    If you are using Spring Boot, see
                                    <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-kotlin-testing">this
                                        related documentation</a>.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="sect4">
                        <h5 id="constructor-injection"><a class="anchor"
                                                          href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#constructor-injection"></a>Constructor
                            injection</h5>
                        <div class="paragraph">
                            <p>As described in the <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/testing.html#testcontext-junit-jupiter-di">dedicated
                                section</a>,
                                JUnit 5 allows constructor injection of beans which is pretty useful with Kotlin
                                in order to use <code>val</code> instead of <code>lateinit var</code>. You can use
                                <a href="https://docs.spring.io/spring-framework/docs/5.2.0.BUILD-SNAPSHOT/javadoc-api/org/springframework/test/context/TestConstructor.html"><code>@TestConstructor(autowire
                                    = true)</code></a>
                                to enable autowiring for all parameters.</p>
                        </div>
                        <div class="exampleblock">
                            <div class="content">
                                <div class="listingblock">
                                    <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@SpringJUnitConfig(TestConfig::class)</span>
<span class="hljs-meta">@TestConstructor(autowire = true)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">OrderServiceIntegrationTests</span></span>(<span class="hljs-keyword">val</span> orderService: OrderService,
                                   <span class="hljs-keyword">val</span> customerService: CustomerService) {

    <span class="hljs-comment">// tests that use the injected OrderService and CustomerService</span>
}</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="code-per_class-code-lifecycle"><a class="anchor"
                                                                  href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-per_class-code-lifecycle"></a><code>PER_CLASS</code>
                            Lifecycle</h5>
                        <div class="paragraph">
                            <p>Kotlin lets you specify meaningful test function names between backticks (<code>`</code>).
                                As of JUnit 5, Kotlin test classes can use the <code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code>
                                annotation to enable a single instantiation of test classes, which allows the use of
                                <code>@BeforeAll</code>
                                and <code>@AfterAll</code> annotations on non-static methods, which is a good fit for
                                Kotlin.</p>
                        </div>
                        <div class="paragraph">
                            <p>You can also change the default behavior to <code>PER_CLASS</code> thanks to a <code>junit-platform.properties</code>
                                file with a <code>junit.jupiter.testinstance.lifecycle.default = per_class</code>
                                property.</p>
                        </div>
                        <div class="paragraph">
                            <p>The following example demonstrates <code>@BeforeAll</code> and <code>@AfterAll</code>
                                annotations on non-static methods:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-meta">@TestInstance(TestInstance.Lifecycle.PER_CLASS)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span
        class="hljs-title">IntegrationTests</span> </span>{

  <span class="hljs-keyword">val</span> application = Application(<span class="hljs-number">8181</span>)
  <span class="hljs-keyword">val</span> client = WebClient.create(<span
            class="hljs-string">"http://localhost:8181"</span>)

  <span class="hljs-meta">@BeforeAll</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">beforeAll</span><span
          class="hljs-params">()</span></span> {
    application.start()
  }

  <span class="hljs-meta">@Test</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> `Find all users on HTML page`<span
          class="hljs-params">()</span></span> {
    client.<span class="hljs-keyword">get</span>().uri(<span class="hljs-string">"/users"</span>)
        .accept(TEXT_HTML)
        .retrieve()
        .bodyToMono&lt;String&gt;()
        .test()
        .expectNextMatches { it.contains(<span class="hljs-string">"Foo"</span>) }
        .verifyComplete()
  }

  <span class="hljs-meta">@AfterAll</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">afterAll</span><span
          class="hljs-params">()</span></span> {
    application.stop()
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="specification-like-tests"><a class="anchor"
                                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#specification-like-tests"></a>Specification-like
                            Tests</h5>
                        <div class="paragraph">
                            <p>You can create specification-like tests with JUnit 5 and Kotlin.
                                The following example shows how to do so:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin"><span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">SpecificationLikeTests</span> </span>{

  <span class="hljs-meta">@Nested</span>
  <span class="hljs-meta">@DisplayName(<span class="hljs-meta-string">"a calculator"</span>)</span>
  <span class="hljs-keyword">inner</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span
            class="hljs-title">Calculator</span> </span>{
     <span class="hljs-keyword">val</span> calculator = SampleCalculator()

     <span class="hljs-meta">@Test</span>
     <span class="hljs-function"><span class="hljs-keyword">fun</span> `should return the result of adding the first number to the second number`<span
             class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> sum = calculator.sum(<span class="hljs-number">2</span>, <span
            class="hljs-number">4</span>)
        assertEquals(<span class="hljs-number">6</span>, sum)
     }

     <span class="hljs-meta">@Test</span>
     <span class="hljs-function"><span class="hljs-keyword">fun</span> `should return the result of subtracting the second number from the first number`<span
             class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> subtract = calculator.subtract(<span class="hljs-number">4</span>, <span
            class="hljs-number">2</span>)
        assertEquals(<span class="hljs-number">2</span>, subtract)
     }
  }
}</code></pre>
                            </div>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="kotlin-webtestclient-issue"><a class="anchor"
                                                               href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-webtestclient-issue"></a><code>WebTestClient</code>
                            Type Inference Issue in Kotlin</h5>
                        <div class="paragraph">
                            <p>Due to a <a href="https://youtrack.jetbrains.com/issue/KT-5464">type inference issue</a>,
                                you must
                                use the Kotlin <code>expectBody</code> extension (such as <code>.expectBody&lt;String&gt;().isEqualTo("toys")</code>),
                                since it provides a workaround for the Kotlin issue with the Java API.</p>
                        </div>
                        <div class="paragraph">
                            <p>See also the related <a href="https://jira.spring.io/browse/SPR-16057">SPR-16057</a>
                                issue.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-getting-started"><a class="anchor"
                                                   href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-getting-started"></a>1.10.
                    Getting Started</h3>
                <div class="paragraph">
                    <p>The easiest way to learn how to build a Spring application with Kotlin is to follow
                        <a href="https://spring.io/guides/tutorials/spring-boot-kotlin/">the dedicated tutorial</a>.</p>
                </div>
                <div class="sect3">
                    <h4 id="code-start-spring-io-code"><a class="anchor"
                                                          href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#code-start-spring-io-code"></a>1.10.1.
                        <code>start.spring.io</code></h4>
                    <div class="paragraph">
                        <p>The easiest way to start a new Spring Framework project in Kotlin is to create a new Spring
                            Boot 2 project on <a
                                    href="https://start.spring.io/#!language=kotlin&amp;type=gradle-project">start.spring.io</a>.
                        </p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="choosing-the-web-flavor"><a class="anchor"
                                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#choosing-the-web-flavor"></a>1.10.2.
                        Choosing the Web Flavor</h4>
                    <div class="paragraph">
                        <p>Spring Framework now comes with two different web stacks: <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/web.html#mvc">Spring
                            MVC</a> and
                            <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/web-reactive.html#spring-web-reactive">Spring
                                WebFlux</a>.</p>
                    </div>
                    <div class="paragraph">
                        <p>Spring WebFlux is recommended if you want to create applications that will deal with latency,
                            long-lived connections, streaming scenarios or if you want to use the web functional
                            Kotlin DSL.</p>
                    </div>
                    <div class="paragraph">
                        <p>For other use cases, especially if you are using blocking technologies such as JPA, Spring
                            MVC and its annotation-based programming model is the recommended choice.</p>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="kotlin-resources"><a class="anchor"
                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#kotlin-resources"></a>1.11.
                    Resources</h3>
                <div class="paragraph">
                    <p>We recommend the following resources for people learning how to build applications with
                        Kotlin and the Spring Framework:</p>
                </div>
                <div class="ulist">
                    <ul>
                        <li>
                            <p><a href="https://kotlinlang.org/docs/reference/">Kotlin language reference</a></p>
                        </li>
                        <li>
                            <p><a href="https://slack.kotlinlang.org/">Kotlin Slack</a> (with a dedicated #spring
                                channel)</p>
                        </li>
                        <li>
                            <p><a href="https://stackoverflow.com/questions/tagged/spring+kotlin">Stackoverflow, with
                                <code>spring</code> and <code>kotlin</code> tags</a></p>
                        </li>
                        <li>
                            <p><a href="https://try.kotlinlang.org/">Try Kotlin in your browser</a></p>
                        </li>
                        <li>
                            <p><a href="https://blog.jetbrains.com/kotlin/">Kotlin blog</a></p>
                        </li>
                        <li>
                            <p><a href="https://kotlin.link/">Awesome Kotlin</a></p>
                        </li>
                    </ul>
                </div>
                <div class="sect3">
                    <h4 id="examples"><a class="anchor"
                                         href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#examples"></a>1.11.1.
                        Examples</h4>
                    <div class="paragraph">
                        <p>The following Github projects offer examples that you can learn from and possibly even
                            extend:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>
                                    <a href="https://github.com/sdeleuze/spring-boot-kotlin-demo">spring-boot-kotlin-demo</a>:
                                    Regular Spring Boot and Spring Data JPA project</p>
                            </li>
                            <li>
                                <p><a href="https://github.com/mixitconf/mixit">mixit</a>: Spring Boot 2, WebFlux, and
                                    Reactive Spring Data MongoDB</p>
                            </li>
                            <li>
                                <p><a href="https://github.com/sdeleuze/spring-kotlin-functional">spring-kotlin-functional</a>:
                                    Standalone WebFlux and functional bean definition DSL</p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://github.com/sdeleuze/spring-kotlin-fullstack">spring-kotlin-fullstack</a>:
                                    WebFlux Kotlin fullstack example with Kotlin2js for frontend instead of JavaScript
                                    or TypeScript</p>
                            </li>
                            <li>
                                <p><a href="https://github.com/spring-petclinic/spring-petclinic-kotlin">spring-petclinic-kotlin</a>:
                                    Kotlin version of the Spring PetClinic Sample Application</p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://github.com/sdeleuze/spring-kotlin-deepdive">spring-kotlin-deepdive</a>:
                                    A step-by-step migration guide for Boot 1.0 and Java to Boot 2.0 and Kotlin</p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://github.com/spring-cloud/spring-cloud-gcp/tree/master/spring-cloud-gcp-kotlin-samples/spring-cloud-gcp-kotlin-app-sample">spring-cloud-gcp-kotlin-app-sample</a>:
                                    Spring Boot with Google Cloud Platform Integrations</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="issues"><a class="anchor"
                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#issues"></a>1.11.2.
                        Issues</h4>
                    <div class="paragraph">
                        <p>The following list categorizes the pending issues related to Spring and Kotlin support:</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>Spring Framework</p>
                                <div class="ulist">
                                    <ul>
                                        <li>
                                            <p>
                                                <a href="https://github.com/spring-projects/spring-framework/issues/20606">Unable
                                                    to use WebTestClient with mock server in Kotlin</a></p>
                                        </li>
                                        <li>
                                            <p>
                                                <a href="https://github.com/spring-projects/spring-framework/issues/20496">Support
                                                    null-safety at generics, varargs and array elements level</a></p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <p>Kotlin</p>
                                <div class="ulist">
                                    <ul>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-6380">Parent issue for
                                                Spring Framework support</a></p>
                                        </li>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-5464">Kotlin requires
                                                type inference where Java doesn’t</a></p>
                                        </li>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-20283">Smart cast
                                                regression with open classes</a></p>
                                        </li>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-14984">Impossible to
                                                pass not all SAM argument as function</a></p>
                                        </li>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-15125">Support JSR 223
                                                bindings directly via script variables</a></p>
                                        </li>
                                        <li>
                                            <p><a href="https://youtrack.jetbrains.com/issue/KT-6653">Kotlin properties
                                                do not override Java-style getters and setters</a></p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="sect1">
        <h2 id="groovy"><a class="anchor"
                           href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#groovy"></a>2.
            Apache Groovy</h2>
        <div class="sectionbody">
            <div class="paragraph">
                <p>Groovy is a powerful, optionally typed, and dynamic language, with static-typing and static
                    compilation capabilities. It offers a concise syntax and integrates smoothly with any
                    existing Java application.</p>
            </div>
            <div class="paragraph">
                <p>The Spring Framework provides a dedicated <code>ApplicationContext</code> that supports a
                    Groovy-based
                    Bean Definition DSL. For more details, see
                    <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#groovy-bean-definition-dsl">The
                        Groovy Bean Definition DSL</a>.</p>
            </div>
            <div class="paragraph">
                <p>Further support for Groovy, including beans written in Groovy, refreshable script beans,
                    and more is available in <a
                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language">Dynamic
                        Language Support</a>.</p>
            </div>
        </div>
    </div>
    <div class="sect1">
        <h2 id="dynamic-language"><a class="anchor"
                                     href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language"></a>3.
            Dynamic Language Support</h2>
        <div class="sectionbody">
            <div class="paragraph">
                <p>Spring provides comprehensive support for using classes and objects that have been
                    defined by using a dynamic language (such as Groovy) with Spring. This support lets
                    you write any number of classes in a supported dynamic language and have the Spring
                    container transparently instantiate, configure, and dependency inject the resulting
                    objects.</p>
            </div>
            <div class="paragraph">
                <p>Spring’s scripting support primarily targets Groovy and BeanShell. Beyond those
                    specifically supported languages, the JSR-223 scripting mechanism is supported
                    for integration with any JSR-223 capable language provider (as of Spring 4.2),
                    e.g. JRuby.</p>
            </div>
            <div class="paragraph">
                <p>You can find fully working examples of where this dynamic language support can be
                    immediately useful in <a
                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios">Scenarios</a>.
                </p>
            </div>
            <div class="sect2">
                <h3 id="dynamic-language-a-first-example"><a class="anchor"
                                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-a-first-example"></a>3.1.
                    A First Example</h3>
                <div class="paragraph">
                    <p>The bulk of this chapter is concerned with describing the dynamic language support in
                        detail. Before diving into all of the ins and outs of the dynamic language support,
                        we look at a quick example of a bean defined in a dynamic language. The dynamic
                        language for this first bean is Groovy. (The basis of this example was taken from the
                        Spring test suite. If you want to see equivalent examples in any of the other
                        supported languages, take a look at the source code).</p>
                </div>
                <div class="paragraph">
                    <p>The next example shows the <code>Messenger</code> interface, which the Groovy bean is going to
                        implement. Note that this interface is defined in plain Java. Dependent objects that
                        are injected with a reference to the <code>Messenger</code> do not know that the underlying
                        implementation is a Groovy script. The following listing shows the <code>Messenger</code>
                        interface:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span
            class="hljs-title">Messenger</span> </span>{

    <span class="hljs-function">String <span class="hljs-title">getMessage</span><span
            class="hljs-params">()</span></span>;
}</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>The following example defines a class that has a dependency on the <code>Messenger</code>
                        interface:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span
            class="hljs-title">DefaultBookingService</span> <span class="hljs-keyword">implements</span> <span
            class="hljs-title">BookingService</span> </span>{

    <span class="hljs-keyword">private</span> Messenger messenger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">setMessenger</span><span class="hljs-params">(Messenger messenger)</span> </span>{
        <span class="hljs-keyword">this</span>.messenger = messenger;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">processBooking</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// use the injected Messenger object...</span>
    }
}</code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>The following example implements the <code>Messenger</code> interface in Groovy:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="hljs-comment">// from the file 'Messenger.groovy'</span>
<span class="hljs-keyword">package</span> org.springframework.scripting.groovy;

<span class="hljs-comment">// import the Messenger interface (written in Java) that is to be implemented</span>
<span class="hljs-keyword">import</span> org.springframework.scripting.Messenger

<span class="hljs-comment">// define the implementation in Groovy</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GroovyMessenger</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Messenger</span> </span>{

    String message
}</code></pre>
                    </div>
                </div>
                <div class="admonitionblock note">
                    <table>
                        <tbody>
                        <tr>
                            <td class="icon">
                                <i class="fa icon-note" title="Note"></i>
                            </td>
                            <td class="content">
                                <div class="paragraph">
                                    <p>To use the custom dynamic language tags to define dynamic-language-backed beans,
                                        you
                                        need to have the XML Schema preamble at the top of your Spring XML configuration
                                        file.
                                        You also need to use a Spring <code>ApplicationContext</code> implementation as
                                        your IoC
                                        container. Using the dynamic-language-backed beans with a plain <code>BeanFactory</code>
                                        implementation is supported, but you have to manage the plumbing of the Spring
                                        internals
                                        to do so.</p>
                                </div>
                                <div class="paragraph">
                                    <p>For more information on schema-based configuration, see <a
                                            href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/appendix.html#xsd-configuration">XML
                                        Schema-based Configuration</a>.</p>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="paragraph">
                    <p>Finally, the following example shows the bean definitions that effect the injection of the
                        Groovy-defined <code>Messenger</code> implementation into an instance of the
                        <code>DefaultBookingService</code> class:</p>
                </div>
                <div class="listingblock">
                    <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span> <span
        class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:lang</span>=<span
            class="hljs-string">"http://www.springframework.org/schema/lang"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/lang https://www.springframework.org/schema/lang/spring-lang.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- this is the bean definition for the Groovy-backed Messenger implementation --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"messenger"</span> <span class="hljs-attr">script-source</span>=<span
            class="hljs-string">"classpath:Messenger.groovy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span
                class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span
                class="hljs-attr">value</span>=<span class="hljs-string">"I Can Do The Frug"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">lang:groovy</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- an otherwise normal bean that will be injected by the Groovy-backed Messenger --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"bookingService"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"x.y.DefaultBookingService"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span
                class="hljs-string">"messenger"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"messenger"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
                    </div>
                </div>
                <div class="paragraph">
                    <p>The <code>bookingService</code> bean (a <code>DefaultBookingService</code>) can now use its
                        private <code>messenger</code>
                        member variable as normal, because the <code>Messenger</code> instance that was injected into it
                        is
                        a <code>Messenger</code> instance. There is nothing special going on here — just plain Java and
                        plain Groovy.</p>
                </div>
                <div class="paragraph">
                    <p>Hopefully, the preceding XML snippet is self-explanatory, but do not worry unduly if it is not.
                        Keep reading for the in-depth detail on the whys and wherefores of the preceding
                        configuration.</p>
                </div>
            </div>
            <div class="sect2">
                <h3 id="dynamic-language-beans"><a class="anchor"
                                                   href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans"></a>3.2.
                    Defining Beans that Are Backed by Dynamic Languages</h3>
                <div class="paragraph">
                    <p>This section describes exactly how you define Spring-managed beans in any of the
                        supported dynamic languages.</p>
                </div>
                <div class="paragraph">
                    <p>Note that this chapter does not attempt to explain the syntax and idioms of the supported
                        dynamic languages. For example, if you want to use Groovy to write certain of the classes
                        in your application, we assume that you already know Groovy. If you need further details
                        about the dynamic languages themselves, see <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-resources">Further
                            Resources</a> at the end of
                        this chapter.</p>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-beans-concepts"><a class="anchor"
                                                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts"></a>3.2.1.
                        Common Concepts</h4>
                    <div class="paragraph">
                        <p>The steps involved in using dynamic-language-backed beans are as follows:</p>
                    </div>
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>Write the test for the dynamic language source code (naturally).</p>
                            </li>
                            <li>
                                <p>Then write the dynamic language source code itself.</p>
                            </li>
                            <li>
                                <p>Define your dynamic-language-backed beans by using the appropriate <code>&lt;lang:language/&gt;</code>
                                    element in the XML configuration (you can define such beans programmatically by
                                    using the Spring API, although you will have to consult the source code for
                                    directions on how to do this, as this chapter does not cover this type of advanced
                                    configuration).
                                    Note that this is an iterative step. You need at least one bean
                                    definition for each dynamic language source file (although multiple bean definitions
                                    can reference the same dynamic language source
                                    file).</p>
                            </li>
                        </ol>
                    </div>
                    <div class="paragraph">
                        <p>The first two steps (testing and writing your dynamic language source files) are beyond
                            the scope of this chapter. See the language specification and reference manual
                            for your chosen dynamic language and crack on with developing your dynamic language
                            source files. You first want to read the rest of this chapter, though, as
                            Spring’s dynamic language support does make some (small) assumptions about the contents
                            of your dynamic language source files.</p>
                    </div>
                    <div class="sect4">
                        <h5 id="dynamic-language-beans-concepts-xml-language-element"><a class="anchor"
                                                                                         href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts-xml-language-element"></a>The
                            &lt;lang:language/&gt; element</h5>
                        <div class="paragraph">
                            <p>The final step in the list in the <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-concepts">preceding
                                section</a>
                                involves defining dynamic-language-backed bean definitions, one for each bean that you
                                want to configure (this is no different from normal JavaBean configuration). However,
                                instead of specifying the fully qualified classname of the class that is to be
                                instantiated and configured by the container, you can use the <code>&lt;lang:language/&gt;</code>
                                element to define the dynamic language-backed bean.</p>
                        </div>
                        <div class="paragraph">
                            <p>Each of the supported languages has a corresponding <code>&lt;lang:language/&gt;</code>
                                element:</p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p><code>&lt;lang:groovy/&gt;</code> (Groovy)</p>
                                </li>
                                <li>
                                    <p><code>&lt;lang:bsh/&gt;</code> (BeanShell)</p>
                                </li>
                                <li>
                                    <p><code>&lt;lang:std/&gt;</code> (JSR-223, e.g. with JRuby)</p>
                                </li>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p>The exact attributes and child elements that are available for configuration depends on
                                exactly which language the bean has been defined in (the language-specific sections
                                later in this chapter detail this).</p>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="dynamic-language-refreshable-beans"><a class="anchor"
                                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-refreshable-beans"></a>Refreshable
                            Beans</h5>
                        <div class="paragraph">
                            <p>One of the (and perhaps the single) most compelling value adds of the dynamic language
                                support in Spring is the “refreshable bean” feature.</p>
                        </div>
                        <div class="paragraph">
                            <p>A refreshable bean is a dynamic-language-backed bean. With a small amount of
                                configuration, a dynamic-language-backed bean can monitor changes in its underlying
                                source file resource and then reload itself when the dynamic language source file is
                                changed (for example, when you edit and save changes to the file on the file
                                system).</p>
                        </div>
                        <div class="paragraph">
                            <p>This lets you deploy any number of dynamic language source files as part of an
                                application, configure the Spring container to create beans backed by dynamic
                                language source files (using the mechanisms described in this chapter), and (later,
                                as requirements change or some other external factor comes into play) edit a dynamic
                                language source file and have any change they make be reflected in the bean that is
                                backed by the changed dynamic language source file. There is no need to shut down a
                                running application (or redeploy in the case of a web application). The
                                dynamic-language-backed bean so amended picks up the new state and logic from the
                                changed dynamic language source file.</p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        This feature is off by default.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Now we can take a look at an example to see how easy it is to start using refreshable
                                beans. To turn on the refreshable beans feature, you have to specify exactly one
                                additional attribute on the <code>&lt;lang:language/&gt;</code> element of your bean
                                definition. So,
                                if we stick with <a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-a-first-example">the
                                    example</a> from earlier in
                                this chapter, the following example shows what we would change in the Spring XML
                                configuration to effect refreshable beans:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">beans</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- this bean is now 'refreshable' due to the presence of the 'refresh-check-delay' attribute --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"messenger"</span>
            <span class="hljs-attr">refresh-check-delay</span>=<span class="hljs-string">"5000"</span> &lt;!<span
                class="hljs-attr">--</span> <span class="hljs-attr">switches</span> <span
                class="hljs-attr">refreshing</span> <span class="hljs-attr">on</span> <span
                class="hljs-attr">with</span> <span class="hljs-attr">5</span> <span
                class="hljs-attr">seconds</span> <span class="hljs-attr">between</span> <span
                class="hljs-attr">checks</span> <span class="hljs-attr">--</span>&gt;</span>
            script-source="classpath:Messenger.groovy"&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span
                class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span
                class="hljs-attr">value</span>=<span class="hljs-string">"I Can Do The Frug"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">lang:groovy</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"bookingService"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"x.y.DefaultBookingService"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span
                class="hljs-string">"messenger"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"messenger"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>That really is all you have to do. The <code>refresh-check-delay</code> attribute defined
                                on the
                                <code>messenger</code> bean definition is the number of milliseconds after which the
                                bean is
                                refreshed with any changes made to the underlying dynamic language source file.
                                You can turn off the refresh behavior by assigning a negative value to the
                                <code>refresh-check-delay</code> attribute. Remember that, by default, the refresh
                                behavior is
                                disabled. If you do not want the refresh behavior, do not define the attribute.</p>
                        </div>
                        <div class="paragraph">
                            <p>If we then run the following application, we can exercise the refreshable feature.
                                (Please excuse the “jumping-through-hoops-to-pause-the-execution” shenanigans
                                in this next slice of code.) The <code>System.in.read()</code> call is only there so
                                that the
                                execution of the program pauses while you (the developer in this scenario) go off
                                and edit the underlying dynamic language source file so that the refresh triggers
                                on the dynamic-language-backed bean when the program resumes execution.</p>
                        </div>
                        <div class="paragraph">
                            <p>The following listing shows this sample application:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.scripting.Messenger;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span
            class="hljs-keyword">class</span> <span class="hljs-title">Boot</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span
            class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span
            class="hljs-keyword">final</span> String[] args)</span> <span class="hljs-keyword">throws</span> Exception </span>{
        ApplicationContext ctx = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span
            class="hljs-string">"beans.xml"</span>);
        Messenger messenger = (Messenger) ctx.getBean(<span class="hljs-string">"messenger"</span>);
        System.out.println(messenger.getMessage());
        <span class="hljs-comment">// pause execution while I go off and make changes to the source file...</span>
        System.in.read();
        System.out.println(messenger.getMessage());
    }
}</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Assume then, for the purposes of this example, that all calls to the
                                <code>getMessage()</code>
                                method of <code>Messenger</code> implementations have to be changed such that the
                                message is
                                surrounded by quotation marks. The following listing shows the changes that you
                                (the developer) should make to the <code>Messenger.groovy</code> source file when the
                                execution of the program is paused:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GroovyMessenger</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Messenger</span> </span>{

    <span class="hljs-keyword">private</span> String message = <span class="hljs-string">"Bingo"</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span
            class="hljs-title">getMessage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// change the implementation to surround the message in quotes</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"'"</span> + <span
            class="hljs-keyword">this</span>.message + <span class="hljs-string">"'"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">setMessage</span><span class="hljs-params">(String message)</span> </span>{
        <span class="hljs-keyword">this</span>.message = message
    }
}</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>When the program runs, the output before the input pause will be <code>I Can Do The
                                Frug</code>.
                                After the change to the source file is made and saved and the program resumes execution,
                                the result of calling the <code>getMessage()</code> method on the
                                dynamic-language-backed
                                <code>Messenger</code> implementation is <code>'I Can Do The Frug'</code> (notice the
                                inclusion of the
                                additional quotation marks).</p>
                        </div>
                        <div class="paragraph">
                            <p>Changes to a script do not trigger a refresh if the changes occur within the window of
                                the <code>refresh-check-delay</code> value. Changes to the script are not actually
                                picked up until
                                a method is called on the dynamic-language-backed bean. It is only when a method is
                                called on a dynamic-language-backed bean that it checks to see if its underlying script
                                source has changed. Any exceptions that relate to refreshing the script (such as
                                encountering a compilation error or finding that the script file has been deleted)
                                results in a fatal exception being propagated to the calling code.</p>
                        </div>
                        <div class="paragraph">
                            <p>The refreshable bean behavior described earlier does not apply to dynamic language
                                source files defined with the <code>&lt;lang:inline-script/&gt;</code> element notation
                                (see
                                <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-inline">Inline
                                    Dynamic Language Source Files</a>). Additionally, it applies only to beans where
                                changes to the underlying source file can actually be detected (for example, by code
                                that checks the last modified date of a dynamic language source file that exists on the
                                file system).</p>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="dynamic-language-beans-inline"><a class="anchor"
                                                                  href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-inline"></a>Inline
                            Dynamic Language Source Files</h5>
                        <div class="paragraph">
                            <p>The dynamic language support can also cater to dynamic language source files that are
                                embedded directly in Spring bean definitions. More specifically, the
                                <code>&lt;lang:inline-script/&gt;</code> element lets you define dynamic language source
                                immediately
                                inside a Spring configuration file. An example might clarify how the inline script
                                feature works:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"messenger"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:inline-script</span>&gt;</span>

package org.springframework.scripting.groovy;

import org.springframework.scripting.Messenger

class GroovyMessenger implements Messenger {
    String message
}

    <span class="hljs-tag">&lt;/<span class="hljs-name">lang:inline-script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span class="hljs-attr">name</span>=<span
            class="hljs-string">"message"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"I Can Do The Frug"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">lang:groovy</span>&gt;</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>If we put to one side the issues surrounding whether it is good practice to define
                                dynamic language source inside a Spring configuration file, the <code>&lt;lang:inline-script/&gt;</code>
                                element can be useful in some scenarios. For instance, we might want to quickly add a
                                Spring <code>Validator</code> implementation to a Spring MVC <code>Controller</code>.
                                This is but a moment’s
                                work using inline source. (See <a
                                        href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-validators">Scripted
                                    Validators</a> for such an
                                example.)</p>
                        </div>
                    </div>
                    <div class="sect4">
                        <h5 id="dynamic-language-beans-ctor-injection"><a class="anchor"
                                                                          href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-ctor-injection"></a>Understanding
                            Constructor Injection in the Context of Dynamic-language-backed Beans</h5>
                        <div class="paragraph">
                            <p>There is one very important thing to be aware of with regard to Spring’s dynamic
                                language support. Namely, you can not (currently) supply constructor arguments
                                to dynamic-language-backed beans (and, hence, constructor-injection is not available for
                                dynamic-language-backed beans). In the interests of making this special handling of
                                constructors and properties 100% clear, the following mixture of code and configuration
                                does not work:</p>
                        </div>
                        <div class="listingblock">
                            <div class="title">An approach that cannot work</div>
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="hljs-comment">// from the file 'Messenger.groovy'</span>
<span class="hljs-keyword">package</span> org.springframework.scripting.groovy;

<span class="hljs-keyword">import</span> org.springframework.scripting.Messenger

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GroovyMessenger</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Messenger</span> </span>{

    GroovyMessenger() {}

    <span class="hljs-comment">// this constructor is not available for Constructor Injection</span>
    GroovyMessenger(String message) {
        <span class="hljs-keyword">this</span>.message = message;
    }

    String message

    String anotherMessage
}</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"badMessenger"</span>
    <span class="hljs-attr">script-source</span>=<span
            class="hljs-string">"classpath:Messenger.groovy"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- this next constructor argument will not be injected into the GroovyMessenger --&gt;</span>
    <span class="hljs-comment">&lt;!-- in fact, this isn't even allowed according to the schema --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span
            class="hljs-string">"This will not work"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- only property values are injected into the dynamic-language-backed object --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span class="hljs-attr">name</span>=<span
            class="hljs-string">"anotherMessage"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Passed straight through to the dynamic-language-backed object"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">lang</span>&gt;</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>In practice this limitation is not as significant as it first appears, since setter
                                injection is the injection style favored by the overwhelming majority of developers
                                (we leave the discussion as to whether that is a good thing to another day).</p>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-beans-groovy"><a class="anchor"
                                                              href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy"></a>3.2.2.
                        Groovy Beans</h4>
                    <div class="paragraph">
                        <p>This section describes how to use beans defined in Groovy in Spring.</p>
                    </div>
                    <div class="paragraph">
                        <p>The Groovy homepage includes the following description:</p>
                    </div>
                    <div class="paragraph">
                        <p>“Groovy is an agile dynamic language for the Java 2 Platform that has many of the
                            features that people like so much in languages like Python, Ruby and Smalltalk, making
                            them available to Java developers using a Java-like syntax.”</p>
                    </div>
                    <div class="paragraph">
                        <p>If you have read this chapter straight from the top, you have already
                            <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-a-first-example">seen
                                an example</a> of a Groovy-dynamic-language-backed
                            bean. Now consider another example (again using an example from the Spring test suite):</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span
            class="hljs-title">Calculator</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">add</span><span
            class="hljs-params">(<span class="hljs-keyword">int</span> x, <span
            class="hljs-keyword">int</span> y)</span></span>;
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The following example implements the <code>Calculator</code> interface in Groovy:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy"><span class="hljs-comment">// from the file 'calculator.groovy'</span>
<span class="hljs-keyword">package</span> org.springframework.scripting.groovy

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GroovyCalculator</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Calculator</span> {</span>

    <span class="hljs-keyword">int</span> add(<span class="hljs-keyword">int</span> x, <span
            class="hljs-keyword">int</span> y) {
        x + y
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The following bean definition uses the calculator defined in Groovy:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">--</span> <span class="hljs-attr">from</span> <span class="hljs-attr">the</span> <span
        class="hljs-attr">file</span> '<span class="hljs-attr">beans.xml</span>' <span
        class="hljs-attr">--</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"calculator"</span> <span class="hljs-attr">script-source</span>=<span
            class="hljs-string">"classpath:calculator.groovy"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Finally, the following small application exercises the preceding configuration:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting;

<span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span
            class="hljs-title">Main</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span
            class="hljs-keyword">void</span> <span class="hljs-title">Main</span><span class="hljs-params">(String[] args)</span> </span>{
        ApplicationContext ctx = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span
            class="hljs-string">"beans.xml"</span>);
        Calculator calc = (Calculator) ctx.getBean(<span class="hljs-string">"calculator"</span>);
        System.out.println(calc.add(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>));
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The resulting output from running the above program is (unsurprisingly) <code>10</code>.
                            (For more interesting examples, see the dynamic language showcase project for a more
                            complex example or see the examples <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios">Scenarios</a>
                            later in this chapter).</p>
                    </div>
                    <div class="paragraph">
                        <p>You must not define more than one class per Groovy source file. While this is perfectly
                            legal in Groovy, it is (arguably) a bad practice. In the interests of a consistent
                            approach, you should (in the opinion of the Spring team) respect the standard Java
                            conventions of one (public) class per source file.</p>
                    </div>
                    <div class="sect4">
                        <h5 id="dynamic-language-beans-groovy-customizer"><a class="anchor"
                                                                             href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-groovy-customizer"></a>Customizing
                            Groovy Objects by Using a Callback</h5>
                        <div class="paragraph">
                            <p>The <code>GroovyObjectCustomizer</code> interface is a callback that lets you hook
                                additional
                                creation logic into the process of creating a Groovy-backed bean. For example,
                                implementations of this interface could invoke any required initialization methods,
                                set some default property values, or specify a custom <code>MetaClass</code>. The
                                following listing
                                shows the <code>GroovyObjectCustomizer</code> interface definition:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span
        class="hljs-title">GroovyObjectCustomizer</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">customize</span><span
            class="hljs-params">(GroovyObject goo)</span></span>;
}</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The Spring Framework instantiates an instance of your Groovy-backed bean and then
                                passes the created <code>GroovyObject</code> to the specified <code>GroovyObjectCustomizer</code>
                                (if one
                                has been defined). You can do whatever you like with the supplied
                                <code>GroovyObject</code>
                                reference. We expect that most people want to set a custom <code>MetaClass</code> with
                                this
                                callback, and the following example shows how to do so:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-class"><span
        class="hljs-keyword">class</span> <span class="hljs-title">SimpleMethodTracingCustomizer</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">GroovyObjectCustomizer</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
            class="hljs-title">customize</span><span class="hljs-params">(GroovyObject goo)</span> </span>{
        DelegatingMetaClass metaClass = <span class="hljs-keyword">new</span> DelegatingMetaClass(goo.getMetaClass()) {

            <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invokeMethod</span><span
                    class="hljs-params">(Object object, String methodName, Object[] arguments)</span> </span>{
                System.out.println(<span class="hljs-string">"Invoking '"</span> + methodName + <span
            class="hljs-string">"'."</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.invokeMethod(object, methodName, arguments);
            }
        };
        metaClass.initialize();
        goo.setMetaClass(metaClass);
    }

}</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>A full discussion of meta-programming in Groovy is beyond the scope of the Spring
                                reference manual. See the relevant section of the Groovy reference manual or do a
                                search online. Plenty of articles address this topic. Actually, making use of a
                                <code>GroovyObjectCustomizer</code> is easy if you use the Spring namespace support, as
                                the
                                following example shows:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-comment">&lt;!-- define the GroovyObjectCustomizer just like any other bean --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"tracingCustomizer"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example.SimpleMethodTracingCustomizer"</span>/&gt;</span>

    <span class="hljs-comment">&lt;!-- ... and plug it into the desired Groovy bean via the 'customizer-ref' attribute --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"calculator"</span>
        <span class="hljs-attr">script-source</span>=<span class="hljs-string">"classpath:org/springframework/scripting/groovy/Calculator.groovy"</span>
        <span class="hljs-attr">customizer-ref</span>=<span
                class="hljs-string">"tracingCustomizer"</span>/&gt;</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>If you do not use the Spring namespace support, you can still use the
                                <code>GroovyObjectCustomizer</code> functionality, as the following example shows:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"calculator"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.scripting.groovy.GroovyScriptFactory"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span
            class="hljs-string">"classpath:org/springframework/scripting/groovy/Calculator.groovy"</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- define the GroovyObjectCustomizer (as an inner bean) --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
                class="hljs-string">"tracingCustomizer"</span> <span class="hljs-attr">class</span>=<span
                class="hljs-string">"example.SimpleMethodTracingCustomizer"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span
        class="hljs-string">"org.springframework.scripting.support.ScriptFactoryPostProcessor"</span>/&gt;</span></code></pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        As of Spring Framework 4.3.3, you may also specify a Groovy <code>CompilationCustomizer</code>
                                        (such as an <code>ImportCustomizer</code>) or even a full Groovy <code>CompilerConfiguration</code>
                                        object
                                        in the same place as Spring’s <code>GroovyObjectCustomizer</code>.
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-beans-bsh"><a class="anchor"
                                                           href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-beans-bsh"></a>3.2.3.
                        BeanShell Beans</h4>
                    <div class="paragraph">
                        <p>This section describes how to use BeanShell beans in Spring.</p>
                    </div>
                    <div class="paragraph">
                        <p>The BeanShell homepage includes the following description: {JB}</p>
                    </div>
                    <div class="paragraph">
                        <p>“BeanShell is a small, free, embeddable Java source interpreter with dynamic language
                            features, written in Java. BeanShell dynamically executes standard Java syntax and
                            extends it with common scripting conveniences such as loose types, commands, and method
                            closures like those in Perl and JavaScript.”</p>
                    </div>
                    <div class="paragraph">
                        <p>In contrast to Groovy, BeanShell-backed bean definitions require some (small) additional
                            configuration. The implementation of the BeanShell dynamic language support in Spring is
                            interesting, because Spring creates a JDK dynamic proxy that implements all of the
                            interfaces that are specified in the <code>script-interfaces</code> attribute value of the
                            <code>&lt;lang:bsh&gt;</code> element (this is why you must supply at least one interface in
                            the value
                            of the attribute, and, consequently, program to interfaces when you use BeanShell-backed
                            beans). This means that every method call on a BeanShell-backed object goes through the
                            JDK dynamic proxy invocation mechanism.</p>
                    </div>
                    <div class="paragraph">
                        <p>Now we can show a fully working example of using a BeanShell-based bean that implements
                            the <code>Messenger</code> interface that was defined earlier in this chapter. We again show
                            the
                            definition of the <code>Messenger</code> interface:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span
        class="hljs-keyword">package</span> org.springframework.scripting;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span
            class="hljs-title">Messenger</span> </span>{

    <span class="hljs-function">String <span class="hljs-title">getMessage</span><span
            class="hljs-params">()</span></span>;
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The following example shows the BeanShell “implementation” (we use the term loosely here)
                            of the <code>Messenger</code> interface:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String message;

<span class="hljs-function">String <span class="hljs-title">getMessage</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> message;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setMessage</span><span
        class="hljs-params">(String aMessage)</span> </span>{
    message = aMessage;
}</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>The following example shows the Spring XML that defines an “instance” of the above
                            “class” (again, we use these terms very loosely here):</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">lang:bsh</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"messageService"</span> <span class="hljs-attr">script-source</span>=<span
        class="hljs-string">"classpath:BshMessenger.bsh"</span>
    <span class="hljs-attr">script-interfaces</span>=<span
            class="hljs-string">"org.springframework.scripting.Messenger"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span class="hljs-attr">name</span>=<span
            class="hljs-string">"message"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Hello World!"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">lang:bsh</span>&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>See <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios">Scenarios</a>
                            for some scenarios where you might want to use
                            BeanShell-based beans.</p>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="dynamic-language-scenarios"><a class="anchor"
                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios"></a>3.3.
                    Scenarios</h3>
                <div class="paragraph">
                    <p>The possible scenarios where defining Spring managed beans in a scripting language would
                        be beneficial are many and varied. This section describes two possible use cases for the
                        dynamic language support in Spring.</p>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-scenarios-controllers"><a class="anchor"
                                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-controllers"></a>3.3.1.
                        Scripted Spring MVC Controllers</h4>
                    <div class="paragraph">
                        <p>One group of classes that can benefit from using dynamic-language-backed beans is that
                            of Spring MVC controllers. In pure Spring MVC applications, the navigational flow
                            through a web application is, to a large extent, determined by code encapsulated within
                            your Spring MVC controllers. As the navigational flow and other presentation layer logic
                            of a web application needs to be updated to respond to support issues or changing
                            business requirements, it may well be easier to effect any such required changes by
                            editing one or more dynamic language source files and seeing those changes being
                            immediately reflected in the state of a running application.</p>
                    </div>
                    <div class="paragraph">
                        <p>Remember that, in the lightweight architectural model espoused by projects such as
                            Spring, you typically aim to have a really thin presentation layer, with all
                            the meaty business logic of an application being contained in the domain and service
                            layer classes. Developing Spring MVC controllers as dynamic-language-backed beans lets
                            you change presentation layer logic by editing and saving text files. Any
                            changes to such dynamic language source files is (depending on the configuration)
                            automatically reflected in the beans that are backed by dynamic language source files.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    To effect this automatic “pickup” of any changes to dynamic-language-backed
                                    beans, you have to enable the “refreshable beans” functionality. See
                                    <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-refreshable-beans">Refreshable
                                        Beans</a> for a full treatment of this feature.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>The following example shows an <code>org.springframework.web.servlet.mvc.Controller</code>
                            implemented
                            by using the Groovy dynamic language:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="hljs-comment">// from the file '/WEB-INF/groovy/FortuneController.groovy'</span>
<span class="hljs-keyword">package</span> org.springframework.showcase.fortune.web

<span class="hljs-keyword">import</span> org.springframework.showcase.fortune.service.FortuneService
<span class="hljs-keyword">import</span> org.springframework.showcase.fortune.domain.Fortune
<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView
<span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller

<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FortuneController</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>{

    <span class="hljs-meta">@Property</span> <span class="hljs-function">FortuneService fortuneService

    ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest request,
            HttpServletResponse httpServletResponse)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ModelAndView(<span
            class="hljs-string">"tell"</span>, <span class="hljs-string">"fortune"</span>, <span class="hljs-keyword">this</span>.fortuneService.tellFortune())
    }
}</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-tag">&lt;<span
        class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
        class="hljs-string">"fortune"</span>
        <span class="hljs-attr">refresh-check-delay</span>=<span class="hljs-string">"3000"</span>
        <span class="hljs-attr">script-source</span>=<span class="hljs-string">"/WEB-INF/groovy/FortuneController.groovy"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span class="hljs-attr">name</span>=<span
            class="hljs-string">"fortuneService"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"fortuneService"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">lang:groovy</span>&gt;</span></code></pre>
                        </div>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-scenarios-validators"><a class="anchor"
                                                                      href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-scenarios-validators"></a>3.3.2.
                        Scripted Validators</h4>
                    <div class="paragraph">
                        <p>Another area of application development with Spring that may benefit from the
                            flexibility afforded by dynamic-language-backed beans is that of validation. It can
                            be easier to express complex validation logic by using a loosely typed dynamic language
                            (that may also have support for inline regular expressions) as opposed to regular Java.</p>
                    </div>
                    <div class="paragraph">
                        <p>Again, developing validators as dynamic-language-backed beans lets you change
                            validation logic by editing and saving a simple text file. Any such changes is
                            (depending on the configuration) automatically reflected in the execution of a
                            running application and would not require the restart of an application.</p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    To effect the automatic “pickup” of any changes to dynamic-language-backed
                                    beans, you have to enable the 'refreshable beans' feature. See
                                    <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-refreshable-beans">Refreshable
                                        Beans</a> for a full and detailed treatment of this feature.
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>The following example shows a Spring <code>org.springframework.validation.Validator</code>
                            implemented by using the Groovy dynamic language (see <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#validator">Validation
                                using Spring’s Validator interface</a> for a discussion of the
                            <code>Validator</code> interface):</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy"><span class="hljs-keyword">import</span> org.springframework.validation.Validator
<span class="hljs-keyword">import</span> org.springframework.validation.Errors
<span class="hljs-keyword">import</span> org.springframework.beans.TestBean

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestBeanValidator</span> <span
        class="hljs-keyword">implements</span> <span class="hljs-title">Validator</span> {</span>

    <span class="hljs-keyword">boolean</span> supports(Class clazz) {
        <span class="hljs-keyword">return</span> TestBean.<span class="hljs-keyword">class</span>.isAssignableFrom(clazz)
    }

    <span class="hljs-keyword">void</span> validate(Object bean, Errors errors) {
        <span class="hljs-keyword">if</span>(bean.name?.trim()?.size() &gt; 0) {
            return
        }
        errors.reject("whitespace", "Cannot be composed wholly of whitespace.")
    }
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="dynamic-language-final-notes"><a class="anchor"
                                                         href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes"></a>3.4.
                    Additional Details</h3>
                <div class="paragraph">
                    <p>This last section contains some additional details related to the dynamic language support.</p>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-final-notes-aop"><a class="anchor"
                                                                 href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-aop"></a>3.4.1.
                        AOP — Advising Scripted Beans</h4>
                    <div class="paragraph">
                        <p>You can use the Spring AOP framework to advise scripted beans. The Spring AOP
                            framework actually is unaware that a bean that is being advised might be a scripted
                            bean, so all of the AOP use cases and functionality that you use (or aim to use)
                            work with scripted beans. When you advise scripted beans, you cannot use class-based
                            proxies. You must use <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#aop-proxying">interface-based
                                proxies</a>.</p>
                    </div>
                    <div class="paragraph">
                        <p>You are not limited to advising scripted beans. You can also write aspects themselves
                            in a supported dynamic language and use such beans to advise other Spring beans.
                            This really would be an advanced use of the dynamic language support though.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="dynamic-language-final-notes-scopes"><a class="anchor"
                                                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-final-notes-scopes"></a>3.4.2.
                        Scoping</h4>
                    <div class="paragraph">
                        <p>In case it is not immediately obvious, scripted beans can be scoped in the same way as
                            any other bean. The <code>scope</code> attribute on the various
                            <code>&lt;lang:language/&gt;</code> elements lets
                            you control the scope of the underlying scripted bean, as it does with a regular
                            bean. (The default scope is <a
                                    href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#beans-factory-scopes-singleton">singleton</a>,
                            as it is with “regular” beans.)</p>
                    </div>
                    <div class="paragraph">
                        <p>The following example uses the <code>scope</code> attribute to define a Groovy bean scoped as
                            a
                            <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#beans-factory-scopes-prototype">prototype</a>:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span> <span
        class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:lang</span>=<span
            class="hljs-string">"http://www.springframework.org/schema/lang"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/lang https://www.springframework.org/schema/lang/spring-lang.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">lang:groovy</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"messenger"</span> <span class="hljs-attr">script-source</span>=<span
            class="hljs-string">"classpath:Messenger.groovy"</span> <span class="hljs-attr">scope</span>=<span
            class="hljs-string">"prototype"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">lang:property</span> <span
                class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span
                class="hljs-attr">value</span>=<span class="hljs-string">"I Can Do The RoboCop"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">lang:groovy</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span
            class="hljs-string">"bookingService"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"x.y.DefaultBookingService"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span
                class="hljs-string">"messenger"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"messenger"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>See <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#beans-factory-scopes">Bean
                            Scopes</a> in <a
                                href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/core.html#beans">The
                            IoC Container</a>
                            for a full discussion of the scoping support in the Spring Framework.</p>
                    </div>
                </div>
                <div class="sect3">
                    <h4 id="xsd-schemas-lang"><a class="anchor"
                                                 href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#xsd-schemas-lang"></a>3.4.3.
                        The <code>lang</code> XML schema</h4>
                    <div class="paragraph">
                        <p>The <code>lang</code> elements in Spring XML configuration deal with exposing objects that
                            have been
                            written in a dynamic language (such as Groovy or BeanShell) as beans in the Spring
                            container.</p>
                    </div>
                    <div class="paragraph">
                        <p>These elements (and the dynamic language support) are comprehensively covered in
                            <a href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/integration.html#dynamic-language">Dynamic
                                Language Support</a>. See that chapter
                            for full details on this support and the <code>lang</code> elements.</p>
                    </div>
                    <div class="paragraph">
                        <p>To use the elements in the <code>lang</code> schema, you need to have the following preamble
                            at the
                            top of your Spring XML configuration file. The text in the following snippet references
                            the correct schema so that the tags in the <code>lang</code> namespace are available to you:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span
        class="hljs-string">"http://www.springframework.org/schema/beans"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span
            class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:lang</span>=<span
            class="hljs-string">"http://www.springframework.org/schema/lang"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/lang https://www.springframework.org/schema/lang/spring-lang.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- bean definitions here --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect2">
                <h3 id="dynamic-language-resources"><a class="anchor"
                                                       href="https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#dynamic-language-resources"></a>3.5.
                    Further Resources</h3>
                <div class="paragraph">
                    <p>The following links go to further resources about the various dynamic languages referenced
                        in this chapter:</p>
                </div>
                <div class="ulist">
                    <ul>
                        <li>
                            <p>The <a href="http://www.groovy-lang.org/">Groovy</a> homepage</p>
                        </li>
                        <li>
                            <p>The <a href="http://www.beanshell.org/">BeanShell</a> homepage</p>
                        </li>
                        <li>
                            <p>The <a href="https://www.jruby.org/">JRuby</a> homepage</p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="footer">
    <div id="footer-text">
        Version 5.2.0.BUILD-SNAPSHOT<br>
        Last updated 2019-08-28 16:49:39 UTC
    </div>
</div>
<script type="text/javascript" src="./08_Languages_files/tocbot.min.js.下载"></script>
<script type="text/javascript" src="./08_Languages_files/toc.js.下载"></script>
<script type="text/javascript" src="./08_Languages_files/switch-language.js.下载"></script>
<link rel="stylesheet" href="./08_Languages_files/atom-one-dark-reasonable.min.css">
<script src="./08_Languages_files/highlight.min.js.下载"></script>
<script>hljs.initHighlighting()</script>

<!--
<script>if (window.parent == window) {
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o), m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-2728886-23', 'auto', {'siteSpeedSampleRate': 100});
    ga('send', 'pageview');
}</script>
-->

</body>
</html>